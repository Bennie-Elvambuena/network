!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("streamr-client-protocol",[],e):"object"==typeof exports?exports.Protocol=e():t.Protocol=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=187)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(232),i=n(132);function o(e){return t.exports=o=i?r:function(t){return t.__proto__||r(t)},o(e)}t.exports=o},function(t,e,n){var r=n(115);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,n){var r=n(67),i=n(54);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(133),i=n(87);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){"use strict";var r=n(16),i=n(62).f,o=n(193),s=n(9),a=n(21),u=n(24),c=n(22),f=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,l,p,h,v,d,y,g,m=t.target,b=t.global,w=t.stat,O=t.proto,x=b?r:w?r[m]:(r[m]||{}).prototype,C=b?s:s[m]||(s[m]={}),T=C.prototype;for(p in e)n=!o(b?p:m+(w?".":"#")+p,t.forced)&&x&&c(x,p),v=C[p],n&&(d=t.noTargetGet?(g=i(x,p))&&g.value:x[p]),h=n&&d?d:e[p],n&&typeof v==typeof h||(y=t.bind&&n?a(h,r):t.wrap&&n?f(h):O&&"function"==typeof h?a(Function.call,h):h,(t.sham||h&&h.sham||v&&v.sham)&&u(y,"sham",!0),C[p]=y,O&&(c(s,l=m+"Prototype")||u(s,l,{}),s[l][p]=h,t.real&&T&&!T[p]&&u(T,p,h)))}},function(t,e,n){"use strict";n.d(e,"a",function(){return T});var r=n(242),i=(n.n(r),n(28)),o=n.n(i),s=n(32),a=n.n(s),u=n(267),c=n.n(u),f=n(272),l=n.n(f),p=n(90),h=n.n(p),v=n(12),d=n.n(v),y=n(0),g=n.n(y),m=n(2),b=n.n(m),w=n(40),O=n(8),x=n(313),C={},T=function(){function t(e,n){if(g()(this,t),(this instanceof t?this.constructor:void 0)===t)throw new TypeError("ControlMessage is abstract.");if(this.version=e,void 0===n)throw new w.a("No message type given!");this.type=n}return b()(t,[{key:"toArray",value:function(){return[this.version,this.type]}},{key:"toOtherVersion",value:function(){throw new Error("Class ".concat(this.constructor.name," must override ControlMessage.toOtherVersion(version) or ControlMessage.serialize(version)"))}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.version;return t===this.version?d()(this.toArray()):this.toOtherVersion(t).serialize()}}],[{key:"getConstructorArgs",value:function(t){return t}},{key:"registerClass",value:function(t,e,n){void 0===C[t]&&(C[t]={}),C[t][e]=n}},{key:"getClass",value:function(t,e){var n=C[t];if(!n)throw new O.a(t,"Supported versions: [".concat(h()(C),"]"));if(!n[e])throw new x.a(e,"Supported types: [".concat(h()(n),"]"));return C[t][e]}},{key:"deserialize",value:function(e){var n,r,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s="string"==typeof e?JSON.parse(e):e;l()(s)?(n=s[0],r=s[1],c()(s).call(s,0,2)):(n=s.version||0,r=s.type);var u=t.getClass(n,r);return o()(u,a()(u.getConstructorArgs(s,i)))}}]),t}();T.LATEST_VERSION=1},function(t,e,n){"use strict";e.d=f,e.e=l,e.b=function(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&null==e)return;if(l(t,e),0===e.length)throw new c.a("Expected ".concat(t," to not be an empty string."))},e.a=p,e.c=function(t,e){var n;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&null==e)return;if(p(t,e),e<0)throw new c.a(u()(n="Expected ".concat(t," to not be negative (")).call(n,e,")."))};var r=n(322),i=n.n(r),o=n(67),s=n.n(o),a=n(35),u=n.n(a),c=n(40);function f(t,e){if(void 0===e)throw new c.a("Expected ".concat(t," to not be undefined."));if(null==e)throw new c.a("Expected ".concat(t," to not be null."))}function l(t,e){var n,r;if((!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||null!=e)&&(f(t,e),"string"!=typeof e&&!(e instanceof String)))throw new c.a(u()(n=u()(r="Expected ".concat(t," to be a string but was a ")).call(r,s()(e)," (")).call(n,e,")."))}function p(t,e){var n,r;if((!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||null!=e)&&(f(t,e),!i()(e)))throw new c.a(u()(n=u()(r="Expected ".concat(t," to be an integer but was a ")).call(r,s()(e)," (")).call(n,e,")."))}},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(35),i=n.n(r),o=n(0),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(54),p=n.n(l),h=n(4),v=n.n(h),d=n(57),y=function(t){function e(t,n){var r,o;return s()(this,e),(o=u()(this,f()(e).call(this,i()(r="Unsupported version: ".concat(t,", message: ")).call(r,n)))).version=t,Error.captureStackTrace&&Error.captureStackTrace(p()(o),o.constructor),o}return v()(e,t),e}(n.n(d)()(Error))},function(t,e){t.exports={}},function(t,e,n){var r=n(18);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(148),i=n(317),o=(n(1),n(321));function s(e,n,a){return"undefined"!=typeof Reflect&&i?t.exports=s=i:t.exports=s=function(t,e,n){var i=o(t,e);if(i){var s=r(i,e);return s.get?s.get.call(n):s.value}},s(e,n,a||e)}t.exports=s},function(t,e,n){t.exports=n(188)},function(t,e,n){var r=n(16),i=n(68),o=n(69),s=n(121),a=r.Symbol,u=i("wks");t.exports=function(t){return u[t]||(u[t]=s&&a[t]||(s?a:o)("Symbol."+t))}},function(t,e,n){var r=n(9),i=n(22),o=n(80),s=n(23).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},function(t,e){t.exports=!0},function(t,e,n){(function(e){var n="object",r=function(t){return t&&t.Math==Math&&t};t.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof e==n&&e)||Function("return this")()}).call(e,n(116))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(17);t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(19);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(20),i=n(118),o=n(10),s=n(66),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(20),i=n(23),o=n(46);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){(function(e){var n="object",r=function(t){return t&&t.Math==Math&&t};t.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof e==n&&e)||Function("return this")()}).call(e,n(116))},function(t,e,n){var r=n(15),i=n(292);t.exports=r?i:function(t){return Map.prototype.entries.call(t)}},function(t,e,n){var r=n(117),i=n(65);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(243),i=n(248),o=n(87);function s(e,n,a){return!function(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(i(Date,[],function(){})),!0}catch(t){return!1}}()?t.exports=s=function(t,e,n){var i=[null];i.push.apply(i,e);var s=new(r(Function).apply(t,i));return n&&o(s,n.prototype),s}:t.exports=s=i,s.apply(null,arguments)}t.exports=s},function(t,e,n){var r=n(9);t.exports=function(t){return r[t+"Prototype"]}},function(t,e,n){var r=n(65);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(70),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(252),i=n(256),o=n(266);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e){t.exports={}},function(t,e,n){var r=n(38);t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(276)},function(t,e,n){var r=n(23).f,i=n(24),o=n(22),s=n(204),a=n(13)("toStringTag"),u=s!=={}.toString;t.exports=function(t,e,n,c){if(t){var f=n?t:t.prototype;o(f,a)||r(f,a,{configurable:!0,value:e}),c&&u&&i(f,"toString",s)}}},function(t,e,n){n(127);var r=n(207),i=n(16),o=n(24),s=n(33),a=n(13)("toStringTag");for(var u in r){var c=i[u],f=c&&c.prototype;f&&!f[a]&&o(f,a,u),s[u]=s.Array}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(35),i=n.n(r),o=n(0),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(54),p=n.n(l),h=n(4),v=n.n(h),d=n(57),y=function(t){function e(){var t,n,r;s()(this,e);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return r=u()(this,(t=f()(e)).call.apply(t,i()(n=[this]).call(n,a))),Error.captureStackTrace&&Error.captureStackTrace(p()(r),r.constructor),r}return v()(e,t),e}(n.n(d)()(Error))},function(t,e,n){var r=n(10),i=n(139),o=n(31),s=n(21),a=n(89),u=n(138),c={};(t.exports=function(t,e,n,f,l){var p,h,v,d,y,g=s(e,n,f?2:1);if(l)p=t;else{if("function"!=typeof(h=a(t)))throw TypeError("Target is not iterable");if(i(h)){for(v=0,d=o(t.length);d>v;v++)if((f?g(r(y=t[v])[0],y[1]):g(t[v]))===c)return c;return}p=h.call(t)}for(;!(y=p.next()).done;)if(u(p,g,y.value,f)===c)return c}).BREAK=c},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n(327),i=n.n(r),o=n(35),s=n.n(o),a=n(28),u=n.n(a),c=n(32),f=n.n(c),l=n(0),p=n.n(l),h=n(2),v=n.n(h),d=n(8),y=n(58),g=n(59),m=n(44),b=n(60),w=function(){function t(){p()(this,t)}return v()(t,null,[{key:"deserialize",value:function(t){var e,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o="string"==typeof t?JSON.parse(t):t;if(28===o[0])e=u()(y.a,s()(n=f()(i()(o).call(o,1))).call(n,[r]));else if(29===o[0]){var a;e=u()(g.a,s()(a=f()(i()(o).call(o,1))).call(a,[r]))}else if(30===o[0]){var c;e=u()(m.a,s()(c=f()(i()(o).call(o,1))).call(c,[r]))}else{if(31!==o[0])throw new d.a(o[0],"Supported versions: [28, 29, 30, 31]");var l;e=u()(b.a,s()(l=f()(i()(o).call(o,1))).call(l,[r]))}return e}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(332),i=n.n(r),o=n(337),s=n.n(o),a=n(93),u=n.n(a),c=n(345),f=n.n(c),l=n(12),p=n.n(l),h=n(67),v=n.n(h),d=n(0),y=n.n(d),g=n(2),m=n.n(g),b=n(150),w=n(40),O=function(){function t(e,n,r,i,o){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(y()(this,t),(this instanceof t?this.constructor:void 0)===t)throw new TypeError("StreamMessage is abstract.");t.validateContentType(r),t.validateEncryptionType(i),this.version=e,this.streamId=n,this.contentType=r,this.encryptionType=i,this.parseContentOption=s,s?(this.parsedContent=this.parseContent(o),this.serializedContent=this.serializeContent(o)):this.content=o}return m()(t,[{key:"getStreamId",value:function(){return this.streamId}},{key:"getStreamPartition",value:function(){throw new Error("getStreamPartition must be implemented")}},{key:"getTimestamp",value:function(){throw new Error("getTimestamp must be implemented")}},{key:"getSequenceNumber",value:function(){throw new Error("getSequenceNumber must be implemented")}},{key:"getPublisherId",value:function(){throw new Error("getPublisherId must be implemented")}},{key:"getMsgChainId",value:function(){throw new Error("getMsgChainId must be implemented")}},{key:"getMessageRef",value:function(){throw new Error("getMessageRef must be implemented")}},{key:"serializeContent",value:function(t){if("string"==typeof t)return t;if("object"===v()(t))return p()(t);throw new Error("Stream payloads can only be objects!")}},{key:"parseContent",value:function(e){if(this.contentType===t.CONTENT_TYPES.MESSAGE&&this.encryptionType!==t.ENCRYPTION_TYPES.NONE)return e;if("object"===v()(e))return t.validateContent(e,this.contentType),e;if("string"==typeof e)try{var n=JSON.parse(e);return t.validateContent(n,this.contentType),n}catch(t){throw new b.a(this.streamId,e,t,this)}throw new Error("Unsupported content type: ".concat(v()(e)))}},{key:"getSerializedContent",value:function(){return this.serializedContent||(this.serializedContent=this.serializeContent(this.content)),this.serializedContent}},{key:"getParsedContent",value:function(){return this.parsedContent||(this.parsedContent=this.parseContent(this.content)),this.parsedContent}},{key:"getContent",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.getParsedContent():this.getSerializedContent()}},{key:"isByeMessage",value:function(){return!!this.getParsedContent()._bye}}],[{key:"create",value:function(e,n,r,i,o,s,a){return new(0,t.latestClass)(e,n,r,i,o,s,a)}},{key:"from",value:function(e){var n=e.streamId,r=e.streamPartition,i=e.timestamp,o=e.sequenceNumber,s=e.publisherId,a=e.msgChainId,u=e.previousTimestamp,c=void 0===u?null:u,f=e.previousSequenceNumber,l=void 0===f?null:f,p=e.contentType,h=void 0===p?t.CONTENT_TYPES.MESSAGE:p,v=e.encryptionType,d=void 0===v?t.ENCRYPTION_TYPES.NONE:v,y=e.content,g=e.signatureType,m=void 0===g?t.SIGNATURE_TYPES.NONE:g,b=e.signature,w=void 0===b?null:b;return t.create([n,r,i,o,s,a],null==c?null:[c,l],h,d,y,m,w)}},{key:"validateContentType",value:function(e){if(!t.VALID_CONTENTS.has(e))throw new w.a("Unsupported content type: ".concat(e))}},{key:"validateEncryptionType",value:function(e){if(!t.VALID_ENCRYPTIONS.has(e))throw new w.a("Unsupported encryption type: ".concat(e))}},{key:"validateContent",value:function(e,n){if(!e)throw new Error("Content cannot be empty.");if(n===t.CONTENT_TYPES.GROUP_KEY_REQUEST){if(!e.publicKey)throw new Error("Content of type ".concat(n," must contain a 'publicKey' field."));if(!e.streamId)throw new Error("Content of type ".concat(n," must contain a 'streamId' field."));if(e.range&&!e.range.start&&!e.range.end)throw new Error("Field 'range' in content of type ".concat(n," must contain fields 'start' and 'end'."))}else if(n===t.CONTENT_TYPES.GROUP_KEY_RESPONSE_SIMPLE){var r;if(!e.streamId)throw new Error("Content of type ".concat(n," must contain a 'streamId' field."));if(!f()(e))throw new Error("Content of type ".concat(n," must contain a 'keys' field."));u()(r=f()(e)).call(r,function(t){if(!t.groupKey||!t.start)throw new Error("Each element in field 'keys' of content of type ".concat(n," must contain 'groupKey' and 'start' fields."))})}else if(n===t.CONTENT_TYPES.GROUP_KEY_RESET_SIMPLE){if(!e.streamId||!e.groupKey||!e.start)throw new Error("Content of type ".concat(n," must contain 'streamId', 'groupKey' and 'start' fields."))}else if(n===t.CONTENT_TYPES.ERROR_MSG){if(!e.code)throw new Error("Content of type ".concat(n," must contain 'code' and 'message' fields."));if(!e.message)throw new Error("Content of type ".concat(n," must contain 'code' and 'message' fields."))}}},{key:"versionSupportsEncryption",value:function(t){return t>=31}}]),t}();O.LATEST_VERSION=31,O.CONTENT_TYPES={MESSAGE:27,GROUP_KEY_REQUEST:28,GROUP_KEY_RESPONSE_SIMPLE:29,GROUP_KEY_RESET_SIMPLE:30,ERROR_MSG:31},O.VALID_CONTENTS=new s.a(i()(O.CONTENT_TYPES)),O.SIGNATURE_TYPES={NONE:0,ETH_LEGACY:1,ETH:2},O.ENCRYPTION_TYPES={NONE:0,RSA:1,AES:2,NEW_KEY_AND_AES:3},O.VALID_ENCRYPTIONS=new s.a(i()(O.ENCRYPTION_TYPES))},function(t,e,n){"use strict";n.d(e,"a",function(){return k});var r=n(12),i=n.n(r),o=n(28),s=n.n(o),a=n(32),u=n.n(a),c=n(0),f=n.n(c),l=n(2),p=n.n(l),h=n(3),v=n.n(h),d=n(1),y=n.n(d),g=n(4),m=n.n(g),b=n(7),w=n(8),O=n(43),x=n(58),C=n(59),T=n(60),E=n(94),I=n(151),S=30,k=function(t){function e(t,n,r,i,o,a){var c,l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return f()(this,e),c=v()(this,y()(e).call(this,S,void 0,r,O.a.ENCRYPTION_TYPES.NONE,i,l)),Object(b.a)("signatureType",o),Object(b.e)("signature",a,!0),c.messageId=s()(E.a,u()(t)),c.prevMsgRef=n?s()(I.a,u()(n)):null,c.signatureType=o,c.signature=a,c}return m()(e,t),p()(e,[{key:"getStreamId",value:function(){return this.messageId.streamId}},{key:"getStreamPartition",value:function(){return this.messageId.streamPartition}},{key:"getTimestamp",value:function(){return this.messageId.timestamp}},{key:"getSequenceNumber",value:function(){return this.messageId.sequenceNumber}},{key:"getPublisherId",value:function(){return this.messageId.publisherId}},{key:"getMsgChainId",value:function(){return this.messageId.msgChainId}},{key:"getMessageRef",value:function(){return new I.a(this.getTimestamp(),this.getSequenceNumber())}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[this.version,this.messageId.toArray(),this.prevMsgRef?this.prevMsgRef.toArray():null,this.contentType,this.getContent(t),this.signatureType,this.signature]}},{key:"toOtherVersion",value:function(t){var e=this.prevMsgRef?this.prevMsgRef.timestamp:null;if(28===t)return new x.a(this.messageId.streamId,this.messageId.streamPartition,this.messageId.timestamp,0,this.messageId.timestamp,e,this.contentType,this.getContent(),this.parseContentOption);if(29===t)return new C.a(this.messageId.streamId,this.messageId.streamPartition,this.messageId.timestamp,0,this.messageId.timestamp,e,this.contentType,this.getContent(),this.signatureType,this.messageId.publisherId,this.signature,this.parseContentOption);if(31===t){var n=this.prevMsgRef?this.prevMsgRef.toArray():null;return new T.a(this.messageId.toArray(),n,this.contentType,O.a.ENCRYPTION_TYPES.NONE,this.getSerializedContent(),this.signatureType,this.signature,this.parseContentOption)}throw new w.a(t,"Supported versions: [28, 29, 30, 31]")}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stringify:!0,parsedContent:!1};return t===S?e.stringify?i()(this.toArray(e.parsedContent)):this.toArray(e.parsedContent):this.toOtherVersion(t).serialize(t,e)}}]),e}(O.a)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(198),i=n(48),o=n(81),s=i.set,a=i.getterFor("String Iterator");o(String,"String",function(t){s(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=a(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i,!0),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r,i,o,s=n(199),a=n(16),u=n(18),c=n(24),f=n(22),l=n(71),p=n(49),h=a.WeakMap;if(s){var v=new h,d=v.get,y=v.has,g=v.set;r=function(t,e){return g.call(v,t,e),e},i=function(t){return d.call(v,t)||{}},o=function(t){return y.call(v,t)}}else{var m=l("state");p[m]=!0,r=function(t,e){return c(t,m,e),e},i=function(t){return f(t,m)?t[m]:{}},o=function(t){return f(t,m)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){t.exports={}},function(t,e,n){var r=n(10),i=n(202),o=n(83),s=n(49),a=n(203),u=n(119),c=n(71)("IE_PROTO"),f=function(){},l=function(){var t,e=u("iframe"),n=o.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=r(t),n=new f,f.prototype=null,n[c]=t):n=l(),void 0===e?n:i(n,e)},s[c]=!0},function(t,e,n){var r=n(124),i=n(83);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(64),i=n(13)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(64);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(34),i=n(134),o=n(56),s=n(88),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(39);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(133),i=n(278),o=n(1),s=n(87),a=n(307),u=n(28);function c(e){var n="function"==typeof i?new i:void 0;return t.exports=c=function(t){if(null===t||!a(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return u(t,arguments,o(this).constructor)}return e.prototype=r(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s(e,t)},c(e)}t.exports=c},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(3),f=n.n(c),l=n(1),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(43),m=n(59),b=n(44),w=n(60),O=28,x=function(t){function e(t,n,r,i,o,a,u,c){var l,h=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];return s()(this,e),l=f()(this,p()(e).call(this,O,t,u,g.a.ENCRYPTION_TYPES.NONE,c,h)),Object(d.b)("streamId",t),Object(d.c)("streamPartition",n,!0),Object(d.c)("timestamp",r,!0),Object(d.c)("ttl",i,!0),Object(d.a)("offset",o,!0),Object(d.a)("previousOffset",a,!0),l.ttl=i,l.streamPartition=n,l.timestamp=r,l.offset=o,l.previousOffset=a,l}return v()(e,t),u()(e,[{key:"getStreamPartition",value:function(){return this.streamPartition}},{key:"getTimestamp",value:function(){return this.timestamp}},{key:"getSequenceNumber",value:function(){return 0}},{key:"getPublisherId",value:function(){}},{key:"getMsgChainId",value:function(){return""}},{key:"getMessageRef",value:function(){}},{key:"toObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?[this.version,this.streamId,this.streamPartition,this.timestamp,this.ttl,this.offset,this.previousOffset,this.contentType,this.getContent(t)]:{streamId:this.streamId,streamPartition:this.streamPartition,timestamp:this.timestamp,ttl:this.ttl,offset:this.offset,previousOffset:this.previousOffset,contentType:this.contentType,content:this.getContent(t)}}},{key:"toOtherVersion",value:function(t){if(29===t)return new m.a(this.streamId,this.streamPartition,this.timestamp,this.ttl,this.offset,this.previousOffset,this.contentType,this.getContent(),0,null,null,this.parseContentOption);if(30===t)return new b.a([this.streamId,this.streamPartition,this.timestamp,0,"",""],null,this.contentType,this.getContent(),0,null,this.parseContentOption);if(31===t)return new w.a([this.streamId,this.streamPartition,this.timestamp,0,"",""],null,this.contentType,g.a.ENCRYPTION_TYPES.NONE,this.getContent(),0,null,this.parseContentOption);throw new y.a(t,"Supported versions: [28, 29, 30, 31]")}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stringify:!0,parsedContent:!1,compact:!0};return t===O?e.stringify?i()(this.toObject(e.parsedContent,e.compact)):this.toObject(e.parsedContent,e.compact):this.toOtherVersion(t).serialize(t,e)}}]),e}(g.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(3),f=n.n(c),l=n(1),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(43),m=n(58),b=n(44),w=n(60),O=29,x=function(t){function e(t,n,r,i,o,a,u,c,l,h,v){var y,m=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];return s()(this,e),y=f()(this,p()(e).call(this,O,t,u,g.a.ENCRYPTION_TYPES.NONE,c,m)),Object(d.b)("streamId",t),Object(d.c)("streamPartition",n,!0),Object(d.c)("timestamp",r,!0),Object(d.c)("ttl",i,!0),Object(d.a)("offset",o,!0),Object(d.a)("previousOffset",a,!0),Object(d.a)("signatureType",l,!0),Object(d.e)("publisherAddress",h,!0),Object(d.e)("signature",v,!0),y.ttl=i,y.streamPartition=n,y.timestamp=r,y.offset=o,y.previousOffset=a,y.signatureType=l,y.publisherAddress=h,y.signature=v,y}return v()(e,t),u()(e,[{key:"getStreamPartition",value:function(){return this.streamPartition}},{key:"getTimestamp",value:function(){return this.timestamp}},{key:"getPublisherId",value:function(){return this.publisherAddress}},{key:"getSequenceNumber",value:function(){return 0}},{key:"getMsgChainId",value:function(){return""}},{key:"getMessageRef",value:function(){}},{key:"toObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?[this.version,this.streamId,this.streamPartition,this.timestamp,this.ttl,this.offset,this.previousOffset,this.contentType,this.getContent(t),this.signatureType,this.publisherAddress,this.signature]:{streamId:this.streamId,streamPartition:this.streamPartition,timestamp:this.timestamp,ttl:this.ttl,offset:this.offset,previousOffset:this.previousOffset,contentType:this.contentType,content:this.getContent(t),signatureType:this.signatureType,publisherAddress:this.publisherAddress,signature:this.signature}}},{key:"toOtherVersion",value:function(t){if(28===t)return new m.a(this.streamId,this.streamPartition,this.timestamp,this.ttl,this.offset,this.previousOffset,this.contentType,this.getContent(),this.parseContentOption);if(30===t)return new b.a([this.streamId,this.streamPartition,this.timestamp,0,this.publisherAddress||"",""],null,this.contentType,this.getContent(),this.signatureType,this.signature,this.parseContentOption);if(31===t)return new w.a([this.streamId,this.streamPartition,this.timestamp,0,this.publisherAddress||"",""],null,this.contentType,g.a.ENCRYPTION_TYPES.NONE,this.getContent(),this.signatureType,this.signature,this.parseContentOption);throw new y.a(t,"Supported versions: [28, 29, 30, 31]")}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stringify:!0,parsedContent:!1,compact:!0};return t===O?e.stringify?i()(this.toObject(e.parsedContent,e.compact)):this.toObject(e.parsedContent,e.compact):this.toOtherVersion(t).serialize(t,e)}}]),e}(g.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return k});var r=n(12),i=n.n(r),o=n(28),s=n.n(o),a=n(32),u=n.n(a),c=n(0),f=n.n(c),l=n(2),p=n.n(l),h=n(3),v=n.n(h),d=n(1),y=n.n(d),g=n(4),m=n.n(g),b=n(7),w=n(8),O=n(43),x=n(94),C=n(151),T=n(58),E=n(59),I=n(44),S=31,k=function(t){function e(t,n,r,i,o,a,c){var l,p=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];return f()(this,e),l=v()(this,y()(e).call(this,S,void 0,r,i,o,p)),Object(b.a)("signatureType",a),Object(b.e)("signature",c,!0),l.messageId=s()(x.a,u()(t)),l.prevMsgRef=n?s()(C.a,u()(n)):null,l.encryptionType=i,l.signatureType=a,l.signature=c,l}return m()(e,t),p()(e,[{key:"getStreamId",value:function(){return this.messageId.streamId}},{key:"getStreamPartition",value:function(){return this.messageId.streamPartition}},{key:"getTimestamp",value:function(){return this.messageId.timestamp}},{key:"getSequenceNumber",value:function(){return this.messageId.sequenceNumber}},{key:"getPublisherId",value:function(){return this.messageId.publisherId}},{key:"getMsgChainId",value:function(){return this.messageId.msgChainId}},{key:"getMessageRef",value:function(){return new C.a(this.getTimestamp(),this.getSequenceNumber())}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[this.version,this.messageId.toArray(),this.prevMsgRef?this.prevMsgRef.toArray():null,this.contentType,this.encryptionType,this.getContent(t),this.signatureType,this.signature]}},{key:"toOtherVersion",value:function(t){var e=this.prevMsgRef?this.prevMsgRef.timestamp:null;if(28===t)return new T.a(this.messageId.streamId,this.messageId.streamPartition,this.messageId.timestamp,0,this.messageId.timestamp,e,this.contentType,this.getContent(),this.parseContentOption);if(29===t)return new E.a(this.messageId.streamId,this.messageId.streamPartition,this.messageId.timestamp,0,this.messageId.timestamp,e,this.contentType,this.getContent(),this.signatureType,this.messageId.publisherId,this.signature,this.parseContentOption);if(30===t){var n=this.prevMsgRef?this.prevMsgRef.toArray():null;return new I.a(this.messageId.toArray(),n,this.contentType,this.getSerializedContent(),this.signatureType,this.signature,this.parseContentOption)}throw new w.a(t,"Supported versions: [28, 29, 30, 31]")}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stringify:!0,parsedContent:!1};return t===S?e.stringify?i()(this.toArray(e.parsedContent)):this.toArray(e.parsedContent):this.toOtherVersion(t).serialize(t,e)}}]),e}(O.a);O.a.latestClass=k},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(7),f=function(){function t(e,n){s()(this,t),Object(c.c)("timestamp",e),Object(c.c)("sequenceNumber",n,!0),this.timestamp=e,this.sequenceNumber=n}return u()(t,[{key:"compareTo",value:function(t){return this.timestamp<t.timestamp?-1:this.timestamp>t.timestamp?1:this.sequenceNumber<t.sequenceNumber?-1:this.sequenceNumber>t.sequenceNumber?1:0}},{key:"toArray",value:function(){return[this.timestamp,this.sequenceNumber]}},{key:"serialize",value:function(){return i()(this.toArray())}}]),t}()},function(t,e,n){var r=n(20),i=n(63),o=n(46),s=n(27),a=n(66),u=n(22),c=n(118),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=a(e,!0),c)try{return f(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(18);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(194),i=n(208);function o(t){return(o="function"==typeof i&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t})(t)}function s(e){return"function"==typeof i&&"symbol"===o(r)?t.exports=s=function(t){return o(t)}:t.exports=s=function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":o(t)},s(e)}t.exports=s},function(t,e,n){var r=n(16),i=n(197),o=n(15),s=r["__core-js_shared__"]||i("__core-js_shared__",{});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.1.3",mode:o?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(68),i=n(69),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(22),i=n(30),o=n(71),s=n(123),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){"use strict";var r=n(66),i=n(23),o=n(46);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},function(t,e,n){var r=n(17),i=n(13)("species");t.exports=function(t){return!r(function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(t,e,n){var r=n(9),i=n(16),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){var r=n(34),i=n(55),o=n(156);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n(167),i=(n.n(r),n(168)),o=n.n(i),s=n(0),a=n.n(s),u=n(2),c=n.n(u),f=n(3),l=n.n(f),p=n(1),h=n.n(p),v=n(11),d=n.n(v),y=n(4),g=n.n(y),m=n(7),b=function(t){function e(t,n,r){var i;return a()(this,e),i=l()(this,h()(e).call(this,t,n)),Object(m.b)("requestId",r),i.requestId=r,i}return g()(e,t),c()(e,[{key:"toObject",value:function(){return o()({},d()(h()(e.prototype),"toObject",this).call(this),{sub:this.requestId})}}],[{key:"objectToConstructorArgs",value:function(t){return[t.stream,t.partition,t.sub]}}]),e}(n(78).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(28),i=n.n(r),o=n(32),s=n.n(o),a=n(12),u=n.n(a),c=n(0),f=n.n(c),l=n(2),p=n.n(l),h=n(95),v=n(7),d=function(){function t(e,n){f()(this,t),Object(v.b)("streamId",e),Object(v.c)("streamPartition",n),this.streamId=e,this.streamPartition=n}return p()(t,[{key:"toObject",value:function(){return{stream:this.streamId,partition:this.streamPartition}}},{key:"serialize",value:function(){return u()(this.toObject())}}],[{key:"objectToConstructorArgs",value:function(t){return[t.stream,t.partition]}},{key:"deserialize",value:function(t){var e=Object(h.ensureParsed)(t);return i()(this.prototype.constructor,s()(this.objectToConstructorArgs(e)))}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(3),f=n.n(c),l=n(1),p=n.n(l),h=n(4),v=n.n(h),d=n(6),y=0,g=function(t){function e(t){if(s()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("BroadcastMessage is abstract.");return f()(this,p()(e).call(this,t,y))}return v()(e,t),u()(e,[{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.version,e=arguments.length>1?arguments[1]:void 0;return t===this.version?i()(this.toArray(e)):this.toOtherVersion(t,e).serialize()}}],[{key:"create",value:function(t){return new(d.a.getClass(d.a.LATEST_VERSION,y))(t)}}]),e}(d.a);g.TYPE=y},function(t,e,n){e.f=n(13)},function(t,e,n){"use strict";var r=n(5),i=n(201),o=n(72),s=n(126),a=n(36),u=n(24),c=n(84),f=n(13),l=n(15),p=n(33),h=n(122),v=h.IteratorPrototype,d=h.BUGGY_SAFARI_ITERATORS,y=f("iterator"),g=function(){return this};t.exports=function(t,e,n,f,h,m,b){i(n,e,f);var w,O,x,C=function(t){if(t===h&&k)return k;if(!d&&t in I)return I[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",E=!1,I=t.prototype,S=I[y]||I["@@iterator"]||h&&I[h],k=!d&&S||C(h),P="Array"==e&&I.entries||S;if(P&&(w=o(P.call(new t)),v!==Object.prototype&&w.next&&(l||o(w)===v||(s?s(w,v):"function"!=typeof w[y]&&u(w,y,g)),a(w,T,!0,!0),l&&(p[T]=g))),"values"==h&&S&&"values"!==S.name&&(E=!0,k=function(){return S.call(this)}),l&&!b||I[y]===k||u(I,y,k),p[e]=k,h)if(O={values:C("values"),keys:m?k:C("keys"),entries:C("entries")},b)for(x in O)!d&&!E&&x in I||c(I,x,O[x]);else r({target:e,proto:!0,forced:d||E},O);return O}},function(t,e,n){var r=n(70),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(24);t.exports=function(t,e,n,i){i&&i.enumerable?t[e]=n:r(t,e,n)}},function(t,e,n){var r=n(18),i=n(53),o=n(13)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e){},function(t,e,n){var r=n(132);function i(e,n){return t.exports=i=r||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},function(t,e,n){var r=n(39);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(52),i=n(33),o=n(13)("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){t.exports=n(274)},function(t,e,n){var r=n(21),i=n(117),o=n(30),s=n(31),a=n(85);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,f=4==t,l=6==t,p=5==t||l,h=e||a;return function(e,a,v){for(var d,y,g=o(e),m=i(g),b=r(a,v,3),w=s(m.length),O=0,x=n?h(e,w):u?h(e,0):void 0;w>O;O++)if((p||O in m)&&(y=b(d=m[O],O,g),t))if(n)x[O]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return O;case 2:x.push(d)}else if(f)return!1;return l?-1:c||f?f:x}}},function(t,e,n){var r=n(10),i=n(19),o=n(13)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},function(t,e,n){t.exports=n(149)},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(7),f=function(){function t(e,n,r,i,o,a){s()(this,t),Object(c.b)("streamId",e),Object(c.c)("streamPartition",n),Object(c.c)("timestamp",r),Object(c.c)("sequenceNumber",i),Object(c.e)("publisherId",o),Object(c.e)("msgChainId",a),this.streamId=e,this.streamPartition=n,this.timestamp=r,this.sequenceNumber=i,this.publisherId=o,this.msgChainId=a}return u()(t,[{key:"toArray",value:function(){return[this.streamId,this.streamPartition,this.timestamp,this.sequenceNumber,this.publisherId,this.msgChainId]}},{key:"serialize",value:function(){return i()(this.toArray())}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ensureParsed=function(t){return"string"==typeof t?JSON.parse(t):t};var r=n(95);e.default=r},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=7,d=function(t){function e(t){if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("ErrorResponse is abstract.");return u()(this,f()(e).call(this,t,v))}return p()(e,t),s()(e,null,[{key:"create",value:function(t){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t)}}]),e}(h.a);d.TYPE=v},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=8,d=function(t){function e(t,n){var r;if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("PublishRequest is abstract.");return(r=u()(this,f()(e).call(this,t,v))).sessionToken=n,r}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t,e)}}]),e}(h.a);d.TYPE=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=function(t){if("number"==typeof t)return t;if("string"==typeof t){var e=Number(t)||Date.parse(t);if(s()(e))throw new Error("Invalid timestamp: ".concat(t));return e}throw new Error("Invalid timestamp: ".concat(t))};var r=n(354),i=(n.n(r),n(359)),o=(n.n(i),n(374)),s=n.n(o),a=n(98);e.default=a},function(t,e,n){var r=n(25),i=n(100),o=n(76),s=n(45),a=n(101),u=n(157),c=n(356),f=c.get,l=c.enforce,p=String(u).split("toString");i("inspectSource",function(t){return u.call(t)}),(t.exports=function(t,e,n,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,f=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||o(n,"name",e),l(n).source=p.join("string"==typeof e?e:"")),t!==r?(u?!f&&t[e]&&(c=!0):delete t[e],c?t[e]=n:o(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&f(this).source||u.call(this)})},function(t,e,n){var r=n(25),i=n(101),o=n(355),s=r["__core-js_shared__"]||i("__core-js_shared__",{});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.1.3",mode:o?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(25),i=n(76);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e){t.exports={}},function(t,e,n){var r=n(366),i=n(104);t.exports=function(t){return r(i(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(34),i=n(371),o=n(156),s=n(103),a=n(88),u=n(45),c=n(134),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=a(e,!0),c)try{return f(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=6,d=function(t){function e(t){if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("ResendResponseNoResend is abstract.");return u()(this,f()(e).call(this,t,v))}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e,n){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t,e,n)}}]),e}(h.a);d.TYPE=v},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=4,d=function(t){function e(t){if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("ResendResponseResending is abstract.");return u()(this,f()(e).call(this,t,v))}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e,n){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t,e,n)}}]),e}(h.a);d.TYPE=v},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=5,d=function(t){function e(t){if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("ResendResponseResent is abstract.");return u()(this,f()(e).call(this,t,v))}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e,n){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t,e,n)}}]),e}(h.a);d.TYPE=v},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(7),v=n(6),d=9,y=function(t){function e(t,n,r,o){var s;if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("SubscribeRequest is abstract.");return s=u()(this,f()(e).call(this,t,d)),Object(h.b)("streamId",n),Object(h.c)("streamPartition",r),Object(h.e)("sessionToken",o,!0),s.streamId=n,s.streamPartition=r,s.sessionToken=o,s}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e,n){return new(v.a.getClass(v.a.LATEST_VERSION,d))(t,e,n)}}]),e}(v.a);y.TYPE=d},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=2,d=function(t){function e(t){return i()(this,e),u()(this,f()(e).call(this,t,v))}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t,e)}}]),e}(h.a);d.TYPE=v},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(3),f=n.n(c),l=n(1),p=n.n(l),h=n(11),v=n.n(h),d=n(4),y=n.n(d),g=n(7),m=n(6),b=1,w=function(t){function e(t,n){var r;if(s()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("UnicastMessage is abstract.");return r=f()(this,p()(e).call(this,t,b)),Object(g.b)("requestId",n),r.requestId=n,r}return y()(e,t),u()(e,[{key:"toArray",value:function(){var t=v()(p()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.requestId]),t}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.version,e=arguments.length>1?arguments[1]:void 0;return t===this.version?i()(this.toArray(e)):this.toOtherVersion(t,e).serialize()}}],[{key:"create",value:function(t,e){return new(m.a.getClass(m.a.LATEST_VERSION,b))(t,e)}}]),e}(m.a);w.TYPE=b},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(7),v=n(6),d=10,y=function(t){function e(t,n,r){var o;if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("UnSubscribeRequest is abstract.");return o=u()(this,f()(e).call(this,t,d)),Object(h.b)("streamId",n),Object(h.c)("streamPartition",r),o.streamId=n,o.streamPartition=r,o}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e){return new(v.a.getClass(v.a.LATEST_VERSION,d))(t,e)}}]),e}(v.a);y.TYPE=d},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=3,d=function(t){function e(t){if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("UnsubscribeResponse is abstract.");return u()(this,f()(e).call(this,t,v))}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t,e)}}]),e}(h.a);d.TYPE=v},function(t,e,n){t.exports=n(190)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(17),i=n(64),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(20),i=n(17),o=n(119);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(16),i=n(18),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){n(14)("iterator")},function(t,e,n){var r=n(17);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){"use strict";var r,i,o,s=n(72),a=n(24),u=n(22),c=n(13),f=n(15),l=c("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):p=!0),void 0==r&&(r={}),f||u(r,l)||a(r,l,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(17);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(22),i=n(27),o=n(125),s=n(49),a=o(!1);t.exports=function(t,e){var n,o=i(t),u=0,c=[];for(n in o)!r(s,n)&&r(o,n)&&c.push(n);for(;e.length>u;)r(o,n=e[u++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var r=n(27),i=n(31),o=n(82);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),f=o(s,c);if(t&&n!=n){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(205);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n,i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){"use strict";var r=n(27),i=n(206),o=n(33),s=n(48),a=n(81),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var r=n(5),i=n(17),o=n(53),s=n(18),a=n(30),u=n(31),c=n(73),f=n(85),l=n(74),p=n(13)("isConcatSpreadable"),h=!i(function(){var t=[];return t[p]=!1,t.concat()[0]!==t}),v=l("concat"),d=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!h||!v},{concat:function(t){var e,n,r,i,o,s=a(this),l=f(s,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?s:arguments[e],d(o)){if(p+(i=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,p++)n in o&&c(l,p,o[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(l,p++,o)}return l.length=p,l}})},function(t,e,n){"use strict";var r=n(5),i=n(16),o=n(22),s=n(121),a=n(20),u=n(15),c=n(84),f=n(49),l=n(17),p=n(68),h=n(36),v=n(69),d=n(13),y=n(80),g=n(14),m=n(211),b=n(53),w=n(10),O=n(18),x=n(30),C=n(27),T=n(66),E=n(46),I=n(50),S=n(131),k=n(212),P=n(62),A=n(23),R=n(63),j=n(24),M=n(51),N=n(130),_=n(71),F=n(48),V=_("hidden"),q=F.set,L=F.getterFor("Symbol"),z=P.f,Y=A.f,G=k.f,D=i.Symbol,U=i.JSON,K=U&&U.stringify,J=d("toPrimitive"),W=R.f,B=p("symbol-registry"),H=p("symbols"),Q=p("op-symbols"),$=p("wks"),X=Object.prototype,Z=i.QObject,tt=!Z||!Z.prototype||!Z.prototype.findChild,et=a&&l(function(){return 7!=I(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=z(X,e);r&&delete X[e],Y(t,e,n),r&&t!==X&&Y(X,e,r)}:Y,nt=function(t,e){var n=H[t]=I(D.prototype);return q(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},rt=s&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof D},it=function(t,e,n){return t===X&&it(Q,e,n),w(t),e=T(e,!0),w(n),o(H,e)?(n.enumerable?(o(t,V)&&t[V][e]&&(t[V][e]=!1),n=I(n,{enumerable:E(0,!1)})):(o(t,V)||Y(t,V,E(1,{})),t[V][e]=!0),et(t,e,n)):Y(t,e,n)},ot=function(t,e){w(t);for(var n,r=m(e=C(e)),i=0,o=r.length;o>i;)it(t,n=r[i++],e[n]);return t},st=function(t){var e=W.call(this,t=T(t,!0));return!(this===X&&o(H,t)&&!o(Q,t))&&(!(e||!o(this,t)||!o(H,t)||o(this,V)&&this[V][t])||e)},at=function(t,e){if(t=C(t),e=T(e,!0),t!==X||!o(H,e)||o(Q,e)){var n=z(t,e);return!n||!o(H,e)||o(t,V)&&t[V][e]||(n.enumerable=!0),n}},ut=function(t){for(var e,n=G(C(t)),r=[],i=0;n.length>i;)o(H,e=n[i++])||o(f,e)||r.push(e);return r},ct=function(t){for(var e,n=t===X,r=G(n?Q:C(t)),i=[],s=0;r.length>s;)!o(H,e=r[s++])||n&&!o(X,e)||i.push(H[e]);return i};s||(c((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor");var t=void 0===arguments[0]?void 0:String(arguments[0]),e=v(t),n=function(t){this===X&&n.call(Q,t),o(this,V)&&o(this[V],e)&&(this[V][e]=!1),et(this,e,E(1,t))};return a&&tt&&et(X,e,{configurable:!0,set:n}),nt(e,t)}).prototype,"toString",function(){return L(this).tag}),R.f=st,A.f=it,P.f=at,S.f=k.f=ut,N.f=ct,a&&(Y(D.prototype,"description",{configurable:!0,get:function(){return L(this).description}}),u||c(X,"propertyIsEnumerable",st,{unsafe:!0})),y.f=function(t){return nt(d(t),t)}),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:D});for(var ft=M($),lt=0;ft.length>lt;)g(ft[lt++]);r({target:"Symbol",stat:!0,forced:!s},{for:function(t){return o(B,t+="")?B[t]:B[t]=D(t)},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");for(var e in B)if(B[e]===t)return e},useSetter:function(){tt=!0},useSimple:function(){tt=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!a},{create:function(t,e){return void 0===e?I(t):ot(I(t),e)},defineProperty:it,defineProperties:ot,getOwnPropertyDescriptor:at}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ut,getOwnPropertySymbols:ct}),r({target:"Object",stat:!0,forced:l(function(){N.f(1)})},{getOwnPropertySymbols:function(t){return N.f(x(t))}}),U&&r({target:"JSON",stat:!0,forced:!s||l(function(){var t=D();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))})},{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(O(e)||void 0!==t)&&!rt(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!rt(e))return e}),r[1]=e,K.apply(U,r)}}),D.prototype[J]||j(D.prototype,J,D.prototype.valueOf),h(D,"Symbol"),f[V]=!0},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(124),i=n(83).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){t.exports=n(236)},function(t,e,n){t.exports=n(239)},function(t,e,n){var r=n(34),i=n(38),o=n(135);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(25),i=n(39),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){"use strict";var r=n(19),i=n(18),o=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("C,a","return new C("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){n(255);var r=n(9);t.exports=r.Array.isArray},function(t,e,n){var r=n(10);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(13),i=n(33),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){n(275);var r=n(9);t.exports=r.Object.keys},function(t,e,n){var r=n(277),i=Array.prototype;t.exports=function(t){var e=t.concat;return t===i||t instanceof Array&&e===i.concat?r:e}},function(t,e,n){"use strict";var r=n(5),i=n(16),o=n(143),s=n(17),a=n(24),u=n(41),c=n(144),f=n(18),l=n(36),p=n(23).f,h=n(91),v=n(20),d=n(48),y=h(0),g=d.set,m=d.getterFor;t.exports=function(t,e,n,h,d){var b,w=i[t],O=w&&w.prototype,x=h?"set":"add",C={};if(v&&"function"==typeof w&&(d||O.forEach&&!s(function(){(new w).entries().next()}))){b=e(function(e,n){g(c(e,b,t),{type:t,collection:new w}),void 0!=n&&u(n,e[x],e,h)});var T=m(t);y(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(t){var e="add"==t||"set"==t;t in O&&(!d||"clear"!=t)&&a(b.prototype,t,function(n,r){var i=T(this).collection;if(!e&&d&&!f(n))return"get"==t&&void 0;var o=i[t](0===n?0:n,r);return e?this:o})}),d||p(b.prototype,"size",{get:function(){return T(this).collection.size}})}else b=n.getConstructor(e,t,h,x),o.REQUIRED=!0;return l(b,t,!1,!0),C[t]=b,r({global:!0,forced:!0},C),d||n.setStrong(b,t,h),b}},function(t,e,n){var r=n(49),i=n(18),o=n(22),s=n(23).f,a=n(69),u=n(282),c=a("meta"),f=0,l=Object.isExtensible||function(){return!0},p=function(t){s(t,c,{value:{objectID:"O"+ ++f,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,c)){if(!l(t))return"F";if(!e)return"E";p(t)}return t[c].objectID},getWeakData:function(t,e){if(!o(t,c)){if(!l(t))return!0;if(!e)return!1;p(t)}return t[c].weakData},onFreeze:function(t){return u&&h.REQUIRED&&l(t)&&!o(t,c)&&p(t),t}};r[c]=!0},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){"use strict";var r=n(23).f,i=n(50),o=n(283),s=n(21),a=n(144),u=n(41),c=n(81),f=n(284),l=n(20),p=n(143).fastKey,h=n(48),v=h.set,d=h.getterFor;t.exports={getConstructor:function(t,e,n,c){var f=t(function(t,r){a(t,f,e),v(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=r&&u(r,t[c],t,n)}),h=d(e),y=function(t,e,n){var r,i,o=h(t),s=g(t,e);return s?s.value=n:(o.last=s={index:i=p(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),l?o.size++:t.size++,"F"!==i&&(o.index[i]=s)),t},g=function(t,e){var n,r=h(t),i=p(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(f.prototype,{clear:function(){for(var t=h(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=h(this),n=g(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),l?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=h(this),r=s(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),o(f.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),l&&r(f.prototype,"size",{get:function(){return h(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=d(e),o=d(r);c(t,e,function(t,e){v(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(17);t.exports=function(t,e){var n=[][t];return!n||!r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(42),m=n(6),b=n(79),w=n(152),O=0,x=function(t){function e(t){var n;return i()(this,e),n=u()(this,f()(e).call(this,O)),Object(d.d)("streamMessage",t),n.payload=t,n}return v()(e,t),s()(e,[{key:"toArray",value:function(t){var n=p()(f()(e.prototype),"toArray",this).call(this);return n.push.apply(n,[null,JSON.parse(this.payload.serialize(t))]),n}},{key:"toOtherVersion",value:function(t,e){if(1===t){var n=this.payload;return e&&e!==this.payload.version&&(n=this.payload.toOtherVersion(e)),new w.a(n)}throw new y.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArgs",value:function(t){return[g.a.deserialize(t[1])]}}]),e}(b.a);m.a.registerClass(O,b.a.TYPE,x)},function(t,e,n){t.exports=n(314)},function(t,e,n){n(37);var r=n(341),i=n(52),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===o||t instanceof Array&&e===o.forEach||s.hasOwnProperty(i(t))?r:e}},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(35),i=n.n(r),o=n(0),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(54),p=n.n(l),h=n(4),v=n.n(h),d=n(57),y=function(t){function e(t,n,r,o){var a,c,l;return s()(this,e),(l=u()(this,f()(e).call(this,i()(a=i()(c="Invalid JSON in stream ".concat(t,": ")).call(c,n,". Error while parsing was: ")).call(a,r)))).streamId=t,l.jsonString=n,l.parseError=r,l.streamMessage=o,Error.captureStackTrace&&Error.captureStackTrace(p()(l),l.constructor),l}return v()(e,t),e}(n.n(d)()(Error))},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(0),i=n.n(r),o=n(3),s=n.n(o),a=n(1),u=n.n(a),c=n(4),f=n.n(c),l=n(7),p=function(t){function e(t,n){var r;return i()(this,e),r=s()(this,u()(e).call(this,t,n)),Object(l.c)("sequenceNumber",n),r}return f()(e,t),e}(n(61).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(42),b=n(79),w=n(147),O=1,x=function(t){function e(t){var n;return i()(this,e),n=u()(this,f()(e).call(this,O)),Object(d.d)("streamMessage",t),n.streamMessage=t,n}return v()(e,t),s()(e,[{key:"toArray",value:function(t){var n=p()(f()(e.prototype),"toArray",this).call(this);return n.push(JSON.parse(this.streamMessage.serialize(t))),n}},{key:"toOtherVersion",value:function(t,e){if(0===t){var n=this.streamMessage;return e&&e!==this.streamMessage.version&&(n=this.streamMessage.toOtherVersion(e)),new w.a(n)}throw new y.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArgs",value:function(t){return[m.a.deserialize(t[0])]}}]),e}(b.a);g.a.registerClass(O,b.a.TYPE,x)},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(95),f=function(){function t(e){s()(this,t),this.error=e}return u()(t,[{key:"toObject",value:function(){return{error:this.error}}}],[{key:"deserialize",value:function(e){var n=Object(c.ensureParsed)(e);if(!n.error)throw new Error("Invalid error payload received: ".concat(i()(n)));return new t(n.error)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(96),b=n(153),w=n(155),O=0,x=function(t){function e(t){var n;return i()(this,e),n=u()(this,f()(e).call(this,O)),Object(d.b)("errorMessage",t),n.payload=new b.a(t),n}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[null,this.payload.toObject()]),t}},{key:"toOtherVersion",value:function(t){if(1===t)return new w.a(this.payload.error);throw new y.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArgs",value:function(t){var e=t[1];return[b.a.deserialize(e).error]}}]),e}(m.a);g.a.registerClass(O,m.a.TYPE,x)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(96),b=n(154),w=1,O=function(t){function e(t){var n;return i()(this,e),n=u()(this,f()(e).call(this,w)),Object(d.b)("errorMessage",t),n.errorMessage=t,n}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.errorMessage]),t}},{key:"toOtherVersion",value:function(t){if(0===t)return new b.a(this.errorMessage);throw new y.a(t,"Supported versions: [0, 1]")}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(100);t.exports=r("native-function-to-string",Function.toString)},function(t,e,n){var r=n(100),i=n(358),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(38),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(45),i=n(103),o=n(367),s=n(102),a=o(!1);t.exports=function(t,e){var n,o=i(t),u=0,c=[];for(n in o)!r(s,n)&&r(o,n)&&c.push(n);for(;e.length>u;)r(o,n=e[u++])&&(~a(c,n)||c.push(n));return c}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(161),i=n(105).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=12,d=function(t){function e(t){if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("ResendFromRequest is abstract.");return u()(this,f()(e).call(this,t,v))}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e,n,r,i,o,s){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t,e,n,r,i,o,s)}}]),e}(h.a);d.TYPE=v},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=11,d=function(t){function e(t){if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("ResendLastRequest is abstract.");return u()(this,f()(e).call(this,t,v))}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e,n,r,i){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t,e,n,r,i)}}]),e}(h.a);d.TYPE=v},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(6),v=13,d=function(t){function e(t){if(i()(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("ResendRangeRequest is abstract.");return u()(this,f()(e).call(this,t,v))}return p()(e,t),s()(e,null,[{key:"create",value:function(t,e,n,r,i,o,s,a){return new(h.a.getClass(h.a.LATEST_VERSION,v))(t,e,n,r,i,o,s,a)}}]),e}(h.a);d.TYPE=v},function(t,e,n){"use strict";var r=n(383),i=n(387);r({target:"String",proto:!0,forced:n(388)("sub")},{sub:function(){return i(this,"sub","","")}})},function(t,e,n){var r=n(397),i=n(148),o=n(399),s=n(404),a=n(406),u=n(409),c=n(411);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n,f=null!=arguments[e]?arguments[e]:{},l=u(f);"function"==typeof a&&(l=s(l).call(l,o(n=a(f)).call(n,function(t){return i(f,t).enumerable}))),r(l).call(l,function(e){c(t,e,f[e])})}return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(77),y=n(8),g=n(6),m=n(107),b=n(170),w=0,O=function(t){function e(t,n,r){var o;return i()(this,e),(o=u()(this,f()(e).call(this,w))).payload=new d.a(t,n,r),o}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[null,this.payload.toObject()]),t}},{key:"toOtherVersion",value:function(t){if(1===t)return new b.a(this.payload.streamId,this.payload.streamPartition,this.payload.requestId);throw new y.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArgs",value:function(t){var e=t[1],n=d.a.deserialize(e);return[n.streamId,n.streamPartition,n.requestId]}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(107),b=n(169),w=1,O=function(t){function e(t,n,r){var o;return i()(this,e),o=u()(this,f()(e).call(this,w)),Object(d.b)("streamId",t),Object(d.c)("streamPartition",n),Object(d.b)("requestId",r),o.streamId=t,o.streamPartition=n,o.requestId=r,o}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.streamId,this.streamPartition,this.requestId]),t}},{key:"toOtherVersion",value:function(t){if(0===t)return new b.a(this.streamId,this.streamPartition,this.requestId);throw new y.a(t,"Supported versions: [0, 1]")}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(77),y=n(8),g=n(6),m=n(108),b=n(172),w=0,O=function(t){function e(t,n,r){var o;return i()(this,e),(o=u()(this,f()(e).call(this,w))).payload=new d.a(t,n,r),o}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[null,this.payload.toObject()]),t}},{key:"toOtherVersion",value:function(t){if(1===t)return new b.a(this.payload.streamId,this.payload.streamPartition,this.payload.requestId);throw new y.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArgs",value:function(t){var e=t[1],n=d.a.deserialize(e);return[n.streamId,n.streamPartition,n.requestId]}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(108),b=n(171),w=1,O=function(t){function e(t,n,r){var o;return i()(this,e),o=u()(this,f()(e).call(this,w)),Object(d.b)("streamId",t),Object(d.c)("streamPartition",n),Object(d.b)("requestId",r),o.streamId=t,o.streamPartition=n,o.requestId=r,o}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.streamId,this.streamPartition,this.requestId]),t}},{key:"toOtherVersion",value:function(t){if(0===t)return new b.a(this.streamId,this.streamPartition,this.requestId);throw new y.a(t,"Supported versions: [0, 1]")}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(77),y=n(8),g=n(6),m=n(109),b=n(174),w=0,O=function(t){function e(t,n,r){var o;return i()(this,e),(o=u()(this,f()(e).call(this,w))).payload=new d.a(t,n,r),o}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[null,this.payload.toObject()]),t}},{key:"toOtherVersion",value:function(t){if(1===t)return new b.a(this.payload.streamId,this.payload.streamPartition,this.payload.requestId);throw new y.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArguments",value:function(t){return[t.streamId,t.streamPartition,t.requestId]}},{key:"getConstructorArgs",value:function(t){var e=t[1],n=d.a.deserialize(e);return[n.streamId,n.streamPartition,n.requestId]}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(109),b=n(173),w=1,O=function(t){function e(t,n,r){var o;return i()(this,e),o=u()(this,f()(e).call(this,w)),Object(d.b)("streamId",t),Object(d.c)("streamPartition",n),Object(d.b)("requestId",r),o.streamId=t,o.streamPartition=n,o.requestId=r,o}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.streamId,this.streamPartition,this.requestId]),t}},{key:"toOtherVersion",value:function(t){if(0===t)return new b.a(this.streamId,this.streamPartition,this.requestId);throw new y.a(t,"Supported versions: [0, 1]")}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(3),f=n.n(c),l=n(1),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(110),b=n(176),w=0,O=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return s()(this,e),n=f()(this,p()(e).call(this,w,t,r,o)),Object(d.e)("apiKey",i,!0),n.apiKey=i,n}return v()(e,t),u()(e,[{key:"toObject",value:function(){return{type:"subscribe",stream:this.streamId,partition:this.streamPartition,authKey:this.apiKey,sessionToken:this.sessionToken}}},{key:"toOtherVersion",value:function(t){if(1===t)return new b.a(this.streamId,this.streamPartition,this.sessionToken);throw new y.a(t,"Supported versions: [0, 1]")}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return t===w?i()(this.toObject()):this.toOtherVersion(t).serialize()}}],[{key:"getConstructorArgs",value:function(t){return[t.stream,t.partition,t.authKey,t.sessionToken]}}]),e}(m.a);g.a.registerClass(w,"subscribe",O)},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(8),y=n(6),g=n(110),m=n(175),b=1,w=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return i()(this,e),u()(this,f()(e).call(this,b,t,n,r))}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.streamId,this.streamPartition,this.sessionToken]),t}},{key:"toOtherVersion",value:function(t){if(0===t)return new m.a(this.streamId,this.streamPartition,void 0,this.sessionToken);throw new d.a(t,"Supported versions: [0, 1]")}}]),e}(g.a);y.a.registerClass(b,g.a.TYPE,w)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(78),y=n(8),g=n(6),m=n(111),b=n(178),w=0,O=function(t){function e(t,n){var r;return i()(this,e),(r=u()(this,f()(e).call(this,w))).payload=new d.a(t,n),r}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[null,this.payload.toObject()]),t}},{key:"toOtherVersion",value:function(t){if(1===t)return new b.a(this.payload.streamId,this.payload.streamPartition);throw new y.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArgs",value:function(t){var e=t[1],n=d.a.deserialize(e);return[n.streamId,n.streamPartition]}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(111),b=n(177),w=1,O=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i()(this,e),n=u()(this,f()(e).call(this,w)),Object(d.b)("streamId",t),Object(d.c)("streamPartition",r),n.streamId=t,n.streamPartition=r,n}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.streamId,this.streamPartition]),t}},{key:"toOtherVersion",value:function(t){if(0===t)return new b.a(this.streamId,this.streamPartition);throw new y.a(t,"Supported versions: [0, 1]")}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(42),b=n(112),w=n(180),O=0,x=function(t){function e(t,n){var r;return i()(this,e),r=u()(this,f()(e).call(this,O,n)),Object(d.d)("streamMessage",t),r.payload=t,r}return v()(e,t),s()(e,[{key:"toArray",value:function(t){var n=p()(f()(e.prototype),"toArray",this).call(this);return n.push.apply(n,[JSON.parse(this.payload.serialize(t))]),n}},{key:"toOtherVersion",value:function(t,e){if(1===t){var n=this.payload;return e&&e!==this.payload.version&&(n=this.payload.toOtherVersion(e)),new w.a(this.requestId,n)}throw new y.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArgs",value:function(t){var e=t[0],n=t[1];return[m.a.deserialize(n),e]}}]),e}(b.a);g.a.registerClass(O,b.a.TYPE,x)},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(7),y=n(8),g=n(6),m=n(42),b=n(112),w=n(179),O=1,x=function(t){function e(t,n){var r;return i()(this,e),r=u()(this,f()(e).call(this,O,t)),Object(d.d)("streamMessage",n),r.streamMessage=n,r}return v()(e,t),s()(e,[{key:"toArray",value:function(t){var n=p()(f()(e.prototype),"toArray",this).call(this);return n.push.apply(n,[JSON.parse(this.streamMessage.serialize(t))]),n}},{key:"toOtherVersion",value:function(t,e){if(0===t){var n=this.streamMessage;return e&&e!==this.streamMessage.version&&(n=this.streamMessage.toOtherVersion(e)),new w.a(n,this.requestId)}throw new y.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArgs",value:function(t){var e=t[0],n=t[1];return[e,m.a.deserialize(n)]}}]),e}(b.a);g.a.registerClass(O,b.a.TYPE,x)},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(3),f=n.n(c),l=n(1),p=n.n(l),h=n(4),v=n.n(h),d=n(182),y=n(8),g=n(6),m=0,b=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s()(this,e),f()(this,p()(e).call(this,m,t,n))}return v()(e,t),u()(e,[{key:"toObject",value:function(){return{type:"unsubscribe",stream:this.streamId,partition:this.streamPartition}}},{key:"toOtherVersion",value:function(t){if(1===t)return new d.a(this.streamId,this.streamPartition);throw new y.a(t,"Supported versions: [0, 1]")}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return t===m?i()(this.toObject()):this.toOtherVersion(t).serialize()}}],[{key:"getConstructorArgs",value:function(t){return[t.stream,t.partition]}}]),e}(n(113).a);g.a.registerClass(m,"unsubscribe",b)},function(t,e,n){"use strict";n.d(e,"a",function(){return w});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(181),y=n(8),g=n(6),m=n(113),b=1,w=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i()(this,e),u()(this,f()(e).call(this,b,t,n))}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.streamId,this.streamPartition]),t}},{key:"toOtherVersion",value:function(t){if(0===t)return new d.a(this.streamId,this.streamPartition);throw new y.a(t,"Supported versions: [0, 1]")}}]),e}(m.a);g.a.registerClass(b,m.a.TYPE,w)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(78),y=n(6),g=n(8),m=n(114),b=n(184),w=0,O=function(t){function e(t,n){var r;return i()(this,e),(r=u()(this,f()(e).call(this,w))).payload=new d.a(t,n),r}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[null,this.payload.toObject()]),t}},{key:"toOtherVersion",value:function(t){if(1===t)return new b.a(this.payload.streamId,this.payload.streamPartition);throw new g.a(t,"Supported versions: [0, 1]")}}],[{key:"getConstructorArgs",value:function(t){var e=t[1],n=d.a.deserialize(e);return[n.streamId,n.streamPartition]}}]),e}(m.a);y.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(0),i=n.n(r),o=n(2),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(11),p=n.n(l),h=n(4),v=n.n(h),d=n(8),y=n(7),g=n(6),m=n(114),b=n(183),w=1,O=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i()(this,e),n=u()(this,f()(e).call(this,w)),Object(y.b)("streamId",t),Object(y.c)("streamPartition",r),n.streamId=t,n.streamPartition=r,n}return v()(e,t),s()(e,[{key:"toArray",value:function(){var t=p()(f()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.streamId,this.streamPartition]),t}},{key:"toOtherVersion",value:function(t){if(0===t)return new b.a(this.streamId,this.streamPartition);throw new d.a(t,"Supported versions: [0, 1]")}}]),e}(m.a);g.a.registerClass(w,m.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n(35),i=n.n(r),o=n(0),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(4),p=n.n(l),h=n(57),v=function(t){function e(t,n,r,o,a){var c,l,p,h;return s()(this,e),(h=u()(this,f()(e).call(this,i()(c="Failed to fill gap between ".concat(t.serialize()," and ")).call(c,n.serialize())+i()(l=i()(p=" for ".concat(r,"-")).call(p,o," after ")).call(l,a," trials")))).from=t,h.to=n,h.publisherId=r,h.msgChainId=o,h}return p()(e,t),e}(n.n(h)()(Error))},function(t,e,n){var r=n(5),i=n(16),o=n(416),s=[].slice,a=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:a(i.setTimeout),setInterval:a(i.setInterval)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ControlLayer",function(){return st}),n.d(e,"MessageLayer",function(){return at}),n.d(e,"Errors",function(){return ut}),n.d(e,"Utils",function(){return ct});var r=n(79),i=n(147),o=n(152),s=n(153),a=n(96),u=n(154),c=n(155),f=n(97),l=n(349),p=n(378),h=n(379),v=n(164),d=n(380),y=n(165),g=n(381),m=n(166),b=n(382),w=n(107),O=n(169),x=n(170),C=n(108),T=n(171),E=n(172),I=n(109),S=n(173),k=n(174),P=n(110),A=n(175),R=n(176),j=n(111),M=n(177),N=n(178),_=n(112),F=n(179),V=n(180),q=n(113),L=n(181),z=n(182),Y=n(114),G=n(183),D=n(184),U=n(6),K=n(77),J=n(78),W=n(94),B=n(61),H=n(43),Q=n(42),$=n(58),X=n(59),Z=n(44),tt=n(60),et=n(150),nt=n(8),rt=n(185),it=n(98),ot=n(412),st={BroadcastMessage:r.a,BroadcastMessageV0:i.a,BroadcastMessageV1:o.a,ErrorPayload:s.a,ErrorResponse:a.a,ErrorResponseV0:u.a,ErrorResponseV1:c.a,PublishRequest:f.a,PublishRequestV0:l.a,PublishRequestV1:p.a,ResendFromRequest:v.a,ResendFromRequestV1:h.a,ResendLastRequest:y.a,ResendLastRequestV1:d.a,ResendRangeRequest:m.a,ResendRangeRequestV1:g.a,ResendRequestV0:b.a,ResendResponseNoResend:w.a,ResendResponseNoResendV0:O.a,ResendResponseNoResendV1:x.a,ResendResponseResending:C.a,ResendResponseResendingV0:T.a,ResendResponseResendingV1:E.a,ResendResponseResent:I.a,ResendResponseResentV0:S.a,ResendResponseResentV1:k.a,SubscribeRequest:P.a,SubscribeRequestV0:A.a,SubscribeRequestV1:R.a,SubscribeResponse:j.a,SubscribeResponseV0:M.a,SubscribeResponseV1:N.a,UnicastMessage:_.a,UnicastMessageV0:F.a,UnicastMessageV1:V.a,UnsubscribeRequest:q.a,UnsubscribeRequestV0:L.a,UnsubscribeRequestV1:z.a,UnsubscribeResponse:Y.a,UnsubscribeResponseV0:G.a,UnsubscribeResponseV1:D.a,ControlMessage:U.a,ResendResponsePayload:K.a,StreamAndPartition:J.a},at={MessageID:W.a,MessageRef:B.a,StreamMessage:H.a,StreamMessageFactory:Q.a,StreamMessageV28:$.a,StreamMessageV29:X.a,StreamMessageV30:Z.a,StreamMessageV31:tt.a},ut={InvalidJsonError:et.a,UnsupportedVersionError:nt.a,GapFillFailedError:rt.a},ct={TimestampUtil:it.default,OrderingUtil:ot.a};e.default={ControlLayer:st,MessageLayer:at,Errors:ut,Utils:ct}},function(t,e,n){t.exports=n(189)},function(t,e,n){var r=n(9),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){t.exports=n(191)},function(t,e,n){n(192);var r=n(9).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},function(t,e,n){var r=n(5),i=n(20);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(23).f})},function(t,e,n){var r=n(17),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){t.exports=n(195)},function(t,e,n){t.exports=n(196)},function(t,e,n){n(120),n(47),n(37);var r=n(80);t.exports=r.f("iterator")},function(t,e,n){var r=n(16),i=n(24);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(70),i=n(65);t.exports=function(t,e,n){var o,s,a=String(i(t)),u=r(e),c=a.length;return u<0||u>=c?n?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?n?a.charAt(u):o:n?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}},function(t,e,n){var r=n(16),i=n(200),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i.call(o))},function(t,e,n){var r=n(68);t.exports=r("native-function-to-string",Function.toString)},function(t,e,n){"use strict";var r=n(122).IteratorPrototype,i=n(50),o=n(46),s=n(36),a=n(33),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,c,!1,!0),a[c]=u,t}},function(t,e,n){var r=n(20),i=n(23),o=n(10),s=n(51);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,u=0;a>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(16).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(52),i={};i[n(13)("toStringTag")]="z",t.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(t,e,n){var r=n(18),i=n(10);t.exports=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},function(t,e){t.exports=function(){}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){t.exports=n(209)},function(t,e,n){t.exports=n(210),n(228),n(229),n(230),n(231)},function(t,e,n){n(128),n(86),n(129),n(213),n(214),n(215),n(216),n(120),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227);var r=n(9);t.exports=r.Symbol},function(t,e,n){var r=n(51),i=n(130),o=n(63);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),u=o.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var r=n(27),i=n(131).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){n(14)("asyncIterator")},function(t,e){},function(t,e,n){n(14)("hasInstance")},function(t,e,n){n(14)("isConcatSpreadable")},function(t,e,n){n(14)("match")},function(t,e,n){n(14)("matchAll")},function(t,e,n){n(14)("replace")},function(t,e,n){n(14)("search")},function(t,e,n){n(14)("species")},function(t,e,n){n(14)("split")},function(t,e,n){n(14)("toPrimitive")},function(t,e,n){n(14)("toStringTag")},function(t,e,n){n(14)("unscopables")},function(t,e,n){n(36)(Math,"Math",!0)},function(t,e,n){var r=n(16);n(36)(r.JSON,"JSON",!0)},function(t,e,n){n(14)("dispose")},function(t,e,n){n(14)("observable")},function(t,e,n){n(14)("patternMatch")},function(t,e,n){n(14)("replaceAll")},function(t,e,n){t.exports=n(233)},function(t,e,n){t.exports=n(234)},function(t,e,n){n(235);var r=n(9);t.exports=r.Object.getPrototypeOf},function(t,e,n){var r=n(5),i=n(17),o=n(30),s=n(72),a=n(123);r({target:"Object",stat:!0,forced:i(function(){s(1)}),sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},function(t,e,n){t.exports=n(237)},function(t,e,n){n(238);var r=n(9);t.exports=r.Object.setPrototypeOf},function(t,e,n){n(5)({target:"Object",stat:!0},{setPrototypeOf:n(126)})},function(t,e,n){t.exports=n(240)},function(t,e,n){n(241);var r=n(9).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){n(5)({target:"Object",stat:!0,sham:!n(20)},{create:n(50)})},function(t,e,n){var r=n(34),i=n(55).f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/;!r||"name"in o||i(o,"name",{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},function(t,e,n){t.exports=n(244)},function(t,e,n){t.exports=n(245)},function(t,e,n){var r=n(246),i=Function.prototype;t.exports=function(t){var e=t.bind;return t===i||t instanceof Function&&e===i.bind?r:e}},function(t,e,n){n(247);var r=n(29);t.exports=r("Function").bind},function(t,e,n){n(5)({target:"Function",proto:!0},{bind:n(136)})},function(t,e,n){t.exports=n(249)},function(t,e,n){t.exports=n(250)},function(t,e,n){n(251);var r=n(9);t.exports=r.Reflect.construct},function(t,e,n){var r=n(5),i=n(16),o=n(50),s=n(19),a=n(10),u=n(18),c=n(17),f=n(136),l=(i.Reflect||{}).construct,p=c(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),h=!c(function(){l(function(){})}),v=p||h;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){s(t),a(e);var n=arguments.length<3?t:s(arguments[2]);if(h&&!p)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(f.apply(t,r))}var i=n.prototype,c=o(u(i)?i:Object.prototype),v=Function.apply.call(t,c,e);return u(v)?v:c}})},function(t,e,n){var r=n(253);t.exports=function(t){if(r(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e,n){t.exports=n(254)},function(t,e,n){t.exports=n(137)},function(t,e,n){n(5)({target:"Array",stat:!0},{isArray:n(53)})},function(t,e,n){var r=n(257),i=n(263);t.exports=function(t){if(i(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r(t)}},function(t,e,n){t.exports=n(258)},function(t,e,n){t.exports=n(259)},function(t,e,n){n(47),n(260);var r=n(9);t.exports=r.Array.from},function(t,e,n){var r=n(5),i=n(261);r({target:"Array",stat:!0,forced:!n(262)(function(t){Array.from(t)})},{from:i})},function(t,e,n){"use strict";var r=n(21),i=n(30),o=n(138),s=n(139),a=n(31),u=n(73),c=n(89);t.exports=function(t){var e,n,f,l,p=i(t),h="function"==typeof this?this:Array,v=arguments.length,d=v>1?arguments[1]:void 0,y=void 0!==d,g=0,m=c(p);if(y&&(d=r(d,v>2?arguments[2]:void 0,2)),void 0==m||h==Array&&s(m))for(n=new h(e=a(p.length));e>g;g++)u(n,g,y?d(p[g],g):p[g]);else for(l=m.call(p),n=new h;!(f=l.next()).done;g++)u(n,g,y?o(l,d,[f.value,g],!0):f.value);return n.length=g,n}},function(t,e,n){var r=n(13)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){t.exports=n(264)},function(t,e,n){n(37),n(47),t.exports=n(265)},function(t,e,n){var r=n(52),i=n(13),o=n(33),s=i("iterator");t.exports=function(t){var e=Object(t);return void 0!==e[s]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){t.exports=n(268)},function(t,e,n){t.exports=n(269)},function(t,e,n){var r=n(270),i=Array.prototype;t.exports=function(t){var e=t.splice;return t===i||t instanceof Array&&e===i.splice?r:e}},function(t,e,n){n(271);var r=n(29);t.exports=r("Array").splice},function(t,e,n){"use strict";var r=n(5),i=n(82),o=n(70),s=n(31),a=n(30),u=n(85),c=n(73),f=n(74),l=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!f("splice")},{splice:function(t,e){var n,r,f,h,v,d,y=a(this),g=s(y.length),m=i(t,g),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=g-m):(n=b-2,r=p(l(o(e),0),g-m)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=u(y,r),h=0;h<r;h++)(v=m+h)in y&&c(f,h,y[v]);if(f.length=r,n<r){for(h=m;h<g-r;h++)d=h+n,(v=h+r)in y?y[d]=y[v]:delete y[d];for(h=g;h>g-r+n;h--)delete y[h-1]}else if(n>r)for(h=g-r;h>m;h--)d=h+n-1,(v=h+r-1)in y?y[d]=y[v]:delete y[d];for(h=0;h<n;h++)y[h+m]=arguments[h+2];return y.length=g-r+n,f}})},function(t,e,n){t.exports=n(273)},function(t,e,n){t.exports=n(137)},function(t,e,n){t.exports=n(140)},function(t,e,n){var r=n(5),i=n(30),o=n(51);r({target:"Object",stat:!0,forced:n(17)(function(){o(1)})},{keys:function(t){return o(i(t))}})},function(t,e,n){t.exports=n(141)},function(t,e,n){n(128);var r=n(29);t.exports=r("Array").concat},function(t,e,n){t.exports=n(279)},function(t,e,n){t.exports=n(280),n(285),n(287),n(289),n(291),n(293),n(294),n(295),n(296),n(297),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306)},function(t,e,n){n(281),n(86),n(47),n(37);var r=n(9);t.exports=r.Map},function(t,e,n){"use strict";var r=n(142),i=n(145);t.exports=r("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},i,!0)},function(t,e,n){var r=n(17);t.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(t,e,n){var r=n(84);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(75),i=n(23),o=n(13),s=n(20),a=o("species");t.exports=function(t){var e=r(t),n=i.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){n(5)({target:"Map",stat:!0},{from:n(286)})},function(t,e,n){"use strict";var r=n(19),i=n(21),o=n(41);t.exports=function(t){var e,n,s,a,u=arguments[1];return r(this),(e=void 0!==u)&&r(u),void 0==t?new this:(n=[],e?(s=0,a=i(u,arguments[2],2),o(t,function(t){n.push(a(t,s++))})):o(t,n.push,n),new this(n))}},function(t,e,n){n(5)({target:"Map",stat:!0},{of:n(288)})},function(t,e,n){"use strict";t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(290);r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){"use strict";var r=n(10),i=n(19);t.exports=function(){for(var t=r(this),e=i(t.delete),n=!0,o=0,s=arguments.length;o<s;o++)n=n&&e.call(t,arguments[o]);return!!n}},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(10),s=n(21),a=n(26);r({target:"Map",proto:!0,real:!0,forced:i},{every:function(t){for(var e,n,r=o(this),i=a(r),u=s(t,arguments.length>1?arguments[1]:void 0,3);!(e=i.next()).done;)if(!u((n=e.value)[1],n[0],r))return!1;return!0}})},function(t,e,n){var r=n(10),i=n(89);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(75),s=n(10),a=n(19),u=n(21),c=n(92),f=n(26);r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(t){for(var e,n,r,i,l=s(this),p=f(l),h=u(t,arguments.length>1?arguments[1]:void 0,3),v=new(c(l,o("Map"))),d=a(v.set);!(e=p.next()).done;)h(i=(n=e.value)[1],r=n[0],l)&&d.call(v,r,i);return v}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(10),s=n(21),a=n(26);r({target:"Map",proto:!0,real:!0,forced:i},{find:function(t){for(var e,n,r,i=o(this),u=a(i),c=s(t,arguments.length>1?arguments[1]:void 0,3);!(e=u.next()).done;)if(c(r=(n=e.value)[1],n[0],i))return r}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(10),s=n(21),a=n(26);r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(t){for(var e,n,r,i=o(this),u=a(i),c=s(t,arguments.length>1?arguments[1]:void 0,3);!(e=u.next()).done;)if(c((n=e.value)[1],r=n[0],i))return r}})},function(t,e,n){"use strict";var r=n(5),i=n(41),o=n(19);r({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;o(e);var r=o(n.has),s=o(n.get),a=o(n.set);return i(t,function(t){var i=e(t);r.call(n,i)?s.call(n,i).push(t):a.call(n,i,[t])}),n}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(10),s=n(26),a=n(298);r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(t){for(var e,n=o(this),r=s(n);!(e=r.next()).done;)if(a(e.value[1],t))return!0;return!1}})},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(5),i=n(41),o=n(19);r({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;o(e);var r=o(n.set);return i(t,function(t){r.call(n,e(t),t)}),n}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(10),s=n(26);r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(t){for(var e,n,r=o(this),i=s(r);!(e=i.next()).done;)if((n=e.value)[1]===t)return n[0]}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(75),s=n(10),a=n(19),u=n(21),c=n(92),f=n(26);r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(t){for(var e,n,r,i=s(this),l=f(i),p=u(t,arguments.length>1?arguments[1]:void 0,3),h=new(c(i,o("Map"))),v=a(h.set);!(e=l.next()).done;)n=e.value,v.call(h,p(r=n[1],n[0],i),r);return h}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(75),s=n(10),a=n(19),u=n(21),c=n(92),f=n(26);r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(t){for(var e,n,r,i=s(this),l=f(i),p=u(t,arguments.length>1?arguments[1]:void 0,3),h=new(c(i,o("Map"))),v=a(h.set);!(e=l.next()).done;)n=e.value,v.call(h,r=n[0],p(n[1],r,i));return h}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(10),s=n(19),a=n(41);r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(t){for(var e=o(this),n=s(e.set),r=0;r<arguments.length;)a(arguments[r++],n,e,!0);return e}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(10),s=n(19),a=n(26);r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(t){var e,n,r,i=o(this),u=a(i);if(s(t),arguments.length>1)e=arguments[1];else{if((n=u.next()).done)throw TypeError("Reduce of empty map with no initial value");e=n.value[1]}for(;!(n=u.next()).done;)e=t(e,(r=n.value)[1],r[0],i);return e}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(10),s=n(21),a=n(26);r({target:"Map",proto:!0,real:!0,forced:i},{some:function(t){for(var e,n,r=o(this),i=a(r),u=s(t,arguments.length>1?arguments[1]:void 0,3);!(e=i.next()).done;)if(u((n=e.value)[1],n[0],r))return!0;return!1}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(10),s=n(19);r({target:"Map",proto:!0,real:!0,forced:i},{update:function(t,e){var n=o(this);s(e);var r=n.has(t);if(!r&&arguments.length<3)throw TypeError("Updating absent value");var i=r?n.get(t):s(arguments[2])(t,n);return n.set(t,e(i,t,n)),n}})},function(t,e,n){var r=n(308);t.exports=function(t){var e;return-1!==r(e=Function.toString.call(t)).call(e,"[native code]")}},function(t,e,n){t.exports=n(309)},function(t,e,n){t.exports=n(310)},function(t,e,n){var r=n(311),i=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===i||t instanceof Array&&e===i.indexOf?r:e}},function(t,e,n){n(312);var r=n(29);t.exports=r("Array").indexOf},function(t,e,n){"use strict";var r=n(5),i=n(146),o=n(125)(!1),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,u=i("indexOf");r({target:"Array",proto:!0,forced:a||u},{indexOf:function(t){return a?s.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(35),i=n.n(r),o=n(0),s=n.n(o),a=n(3),u=n.n(a),c=n(1),f=n.n(c),l=n(54),p=n.n(l),h=n(4),v=n.n(h),d=n(57),y=function(t){function e(t,n){var r,o;return s()(this,e),(o=u()(this,f()(e).call(this,i()(r="Unsupported type: ".concat(t,", message: ")).call(r,n)))).type=t,Error.captureStackTrace&&Error.captureStackTrace(p()(o),o.constructor),o}return v()(e,t),e}(n.n(d)()(Error))},function(t,e,n){t.exports=n(315)},function(t,e,n){n(316);var r=n(9).Object,i=t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},function(t,e,n){var r=n(5),i=n(17),o=n(27),s=n(62).f,a=n(20),u=i(function(){s(1)});r({target:"Object",stat:!0,forced:!a||u,sham:!a},{getOwnPropertyDescriptor:function(t,e){return s(o(t),e)}})},function(t,e,n){t.exports=n(318)},function(t,e,n){t.exports=n(319)},function(t,e,n){n(320);var r=n(9);t.exports=r.Reflect.get},function(t,e,n){var r=n(5),i=n(62),o=n(72),s=n(22),a=n(18),u=n(10);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,c,f=arguments.length<3?e:arguments[2];return u(e)===f?e[n]:(r=i.f(e,n))?s(r,"value")?r.value:void 0===r.get?void 0:r.get.call(f):a(c=o(e))?t(c,n,f):void 0}})},function(t,e,n){var r=n(1);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){t.exports=n(323)},function(t,e,n){t.exports=n(324)},function(t,e,n){n(325);var r=n(9);t.exports=r.Number.isInteger},function(t,e,n){n(5)({target:"Number",stat:!0},{isInteger:n(326)})},function(t,e,n){var r=n(18),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){t.exports=n(328)},function(t,e,n){t.exports=n(329)},function(t,e,n){var r=n(330),i=Array.prototype;t.exports=function(t){var e=t.slice;return t===i||t instanceof Array&&e===i.slice?r:e}},function(t,e,n){n(331);var r=n(29);t.exports=r("Array").slice},function(t,e,n){"use strict";var r=n(5),i=n(18),o=n(53),s=n(82),a=n(31),u=n(27),c=n(73),f=n(74),l=n(13)("species"),p=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!f("slice")},{slice:function(t,e){var n,r,f,v=u(this),d=a(v.length),y=s(t,d),g=s(void 0===e?d:e,d);if(o(v)&&("function"!=typeof(n=v.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[l])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(v,y,g);for(r=new(void 0===n?Array:n)(h(g-y,0)),f=0;y<g;y++,f++)y in v&&c(r,f,v[y]);return r.length=f,r}})},function(t,e,n){t.exports=n(333)},function(t,e,n){t.exports=n(334)},function(t,e,n){n(335);var r=n(9);t.exports=r.Object.values},function(t,e,n){var r=n(5),i=n(336);r({target:"Object",stat:!0},{values:function(t){return i(t)}})},function(t,e,n){var r=n(20),i=n(51),o=n(27),s=n(63).f;t.exports=function(t,e){for(var n,a=o(t),u=i(a),c=u.length,f=0,l=[];c>f;)n=u[f++],r&&!s.call(a,n)||l.push(e?[n,a[n]]:a[n]);return l}},function(t,e,n){t.exports=n(338)},function(t,e,n){t.exports=n(339)},function(t,e,n){n(340),n(86),n(47),n(37);var r=n(9);t.exports=r.Set},function(t,e,n){"use strict";var r=n(142),i=n(145);t.exports=r("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},i)},function(t,e,n){t.exports=n(342)},function(t,e,n){n(343);var r=n(29);t.exports=r("Array").forEach},function(t,e,n){"use strict";var r=n(5),i=n(344);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var r=n(91),i=n(146),o=r(0),s=i("forEach");t.exports=s?function(t){return o(this,t,arguments[1])}:[].forEach},function(t,e,n){t.exports=n(346)},function(t,e,n){n(37);var r=n(347),i=n(52),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===o||t instanceof Array&&e===o.keys||s.hasOwnProperty(i(t))?r:e}},function(t,e,n){t.exports=n(348)},function(t,e,n){n(127);var r=n(29);t.exports=r("Array").keys},function(t,e,n){"use strict";n.d(e,"a",function(){return I});var r=n(12),i=n.n(r),o=n(67),s=n.n(o),a=n(350),u=n.n(a),c=n(0),f=n.n(c),l=n(2),p=n.n(l),h=n(3),v=n.n(h),d=n(1),y=n.n(d),g=n(4),m=n.n(g),b=n(7),w=n(98),O=n(40),x=n(44),C=n(43),T=n(6),E=0,I=function(t){function e(t,n,r,i,o,s,a,u,c){var l;if(f()(this,e),l=v()(this,y()(e).call(this,E,r)),Object(b.b)("streamId",t),Object(b.e)("apiKey",n,!0),Object(b.e)("sessionToken",r,!0),Object(b.d)("content",i),Object(b.e)("partitionKey",s,!0),Object(b.e)("publisherAddress",a,!0),Object(b.a)("signatureType",u,!0),Object(b.e)("signature",c,!0),null==n&&null==r)throw new O.a("Both apiKey and sessionToken cannot be null/undefined.");return l.streamId=t,l.apiKey=n,l.content=i,o&&(l.timestamp=w.parse(o)),l.partitionKey=s,l.publisherAddress=a,l.signatureType=u,l.signature=c,l}return m()(e,t),p()(e,[{key:"getStreamId",value:function(){return this.streamId}},{key:"getStreamMessage",value:function(t){return new x.a([this.streamId,t,this.timestamp||u()(),0,this.publisherAddress||"",""],null,C.a.CONTENT_TYPES.MESSAGE,this.content,this.signatureType||C.a.SIGNATURE_TYPES.NONE,this.signature)}},{key:"getSerializedContent",value:function(){if("string"==typeof this.content)return this.content;if("object"===s()(this.content))return i()(this.content);throw new Error("Stream payloads can only be objects!")}},{key:"toObject",value:function(){return{type:"publish",stream:this.streamId,authKey:this.apiKey,sessionToken:this.sessionToken,msg:this.getSerializedContent(),ts:this.timestamp,pkey:this.partitionKey,addr:this.publisherAddress,sigtype:this.signatureType,sig:this.signature}}},{key:"serialize",value:function(){return i()(this.toObject())}}],[{key:"getConstructorArgs",value:function(t){return[t.stream,t.authKey,t.sessionToken,t.msg,t.ts,t.pkey,t.addr,t.sigtype,t.sig]}}]),e}(n(97).a);T.a.registerClass(E,"publish",I)},function(t,e,n){t.exports=n(351)},function(t,e,n){t.exports=n(352)},function(t,e,n){n(353);var r=n(9);t.exports=r.Date.now},function(t,e,n){n(5)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,n){var r=n(99),i=Date.prototype,o=i.toString,s=i.getTime;new Date(NaN)+""!="Invalid Date"&&r(i,"toString",function(){var t=s.call(this);return t==t?o.call(this):"Invalid Date"})},function(t,e){t.exports=!1},function(t,e,n){var r,i,o,s=n(357),a=n(25),u=n(39),c=n(76),f=n(45),l=n(158),p=n(102),h=a.WeakMap;if(s){var v=new h,d=v.get,y=v.has,g=v.set;r=function(t,e){return g.call(v,t,e),e},i=function(t){return d.call(v,t)||{}},o=function(t){return y.call(v,t)}}else{var m=l("state");p[m]=!0,r=function(t,e){return c(t,m,e),e},i=function(t){return f(t,m)?t[m]:{}},o=function(t){return f(t,m)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(25),i=n(157),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i.call(o))},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";var r=n(34),i=n(25),o=n(159),s=n(99),a=n(45),u=n(160),c=n(360),f=n(88),l=n(38),p=n(363),h=n(163).f,v=n(106).f,d=n(55).f,y=n(372),g=i.Number,m=g.prototype,b="Number"==u(p(m)),w="trim"in String.prototype,O=function(t){var e,n,r,i,o,s,a,u,c=f(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=w?c.trim():y(c,3)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(s=(o=c.slice(2)).length,a=0;a<s;a++)if((u=o.charCodeAt(a))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(o("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var x,C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(b?l(function(){m.valueOf.call(n)}):"Number"!=u(n))?c(new g(O(e)),n,C):O(e)},T=r?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;T.length>E;E++)a(g,x=T[E])&&!a(C,x)&&d(C,x,v(g,x));C.prototype=m,m.constructor=C,s(i,"Number",C)}},function(t,e,n){var r=n(39),i=n(361);t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){var r=n(362);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n,i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){var r=n(39),i=n(56);t.exports=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},function(t,e,n){var r=n(56),i=n(364),o=n(105),s=n(102),a=n(370),u=n(135),c=n(158)("IE_PROTO"),f=function(){},l=function(){var t,e=u("iframe"),n=o.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=r(t),n=new f,f.prototype=null,n[c]=t):n=l(),void 0===e?n:i(n,e)},s[c]=!0},function(t,e,n){var r=n(34),i=n(55),o=n(56),s=n(365);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,u=0;a>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(161),i=n(105);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(38),i=n(160),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(103),i=n(368),o=n(369);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),f=o(s,c);if(t&&n!=n){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(162),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(162),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(25).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(104),i="["+n(373)+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$");t.exports=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(o,"")),2&e&&(t=t.replace(s,"")),t}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){t.exports=n(375)},function(t,e,n){t.exports=n(376)},function(t,e,n){n(377);var r=n(9);t.exports=r.Number.isNaN},function(t,e,n){n(5)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(3),f=n.n(c),l=n(1),p=n.n(l),h=n(11),v=n.n(h),d=n(4),y=n.n(d),g=n(7),m=n(42),b=n(6),w=n(97),O=1,x=function(t){function e(t,n){var r;return s()(this,e),r=f()(this,p()(e).call(this,O,n)),Object(g.d)("streamMessage",t),r.streamMessage=t,r}return y()(e,t),u()(e,[{key:"getStreamId",value:function(){return this.streamMessage.getStreamId()}},{key:"getStreamMessage",value:function(){return this.streamMessage}},{key:"toArray",value:function(t){var n=v()(p()(e.prototype),"toArray",this).call(this);return n.push.apply(n,[JSON.parse(this.streamMessage.serialize(t)),this.sessionToken]),n}},{key:"serialize",value:function(t){return i()(this.toArray(t))}}],[{key:"getConstructorArgs",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[m.a.deserialize(t[0],e),t[1]]}}]),e}(w.a);b.a.registerClass(O,w.a.TYPE,x)},function(t,e,n){"use strict";n.d(e,"a",function(){return I});var r=n(12),i=n.n(r),o=n(28),s=n.n(o),a=n(32),u=n.n(a),c=n(0),f=n.n(c),l=n(2),p=n.n(l),h=n(3),v=n.n(h),d=n(1),y=n.n(d),g=n(11),m=n.n(g),b=n(4),w=n.n(b),O=n(7),x=n(6),C=n(61),T=n(164),E=1,I=function(t){function e(t,n,r,i,o,a,c){var l;return f()(this,e),l=v()(this,y()(e).call(this,E)),Object(O.b)("streamId",t),Object(O.c)("streamPartition",n),Object(O.b)("requestId",r),Object(O.e)("publisherId",o,!0),Object(O.e)("msgChainId",a,!0),Object(O.e)("sessionToken",c,!0),l.streamId=t,l.streamPartition=n,l.requestId=r,l.fromMsgRef=s()(C.a,u()(i)),l.publisherId=o,l.msgChainId=a,l.sessionToken=c,l}return w()(e,t),p()(e,[{key:"toArray",value:function(t){var n=m()(y()(e.prototype),"toArray",this).call(this);return n.push.apply(n,[this.streamId,this.streamPartition,this.requestId,JSON.parse(this.fromMsgRef.serialize(t)),this.publisherId,this.msgChainId,this.sessionToken]),n}},{key:"serialize",value:function(t){return i()(this.toArray(t))}}]),e}(T.a);x.a.registerClass(E,T.a.TYPE,I)},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(12),i=n.n(r),o=n(0),s=n.n(o),a=n(2),u=n.n(a),c=n(3),f=n.n(c),l=n(1),p=n.n(l),h=n(11),v=n.n(h),d=n(4),y=n.n(d),g=n(7),m=n(6),b=n(165),w=1,O=function(t){function e(t,n,r,i,o){var a;return s()(this,e),a=f()(this,p()(e).call(this,w)),Object(g.b)("streamId",t),Object(g.c)("streamPartition",n),Object(g.b)("requestId",r),Object(g.c)("numberLast",i),Object(g.e)("sessionToken",o,!0),a.streamId=t,a.streamPartition=n,a.requestId=r,a.numberLast=i,a.sessionToken=o,a}return y()(e,t),u()(e,[{key:"toArray",value:function(){var t=v()(p()(e.prototype),"toArray",this).call(this);return t.push.apply(t,[this.streamId,this.streamPartition,this.requestId,this.numberLast,this.sessionToken]),t}},{key:"serialize",value:function(){return i()(this.toArray())}}]),e}(b.a);m.a.registerClass(w,b.a.TYPE,O)},function(t,e,n){"use strict";n.d(e,"a",function(){return S});var r=n(12),i=n.n(r),o=n(28),s=n.n(o),a=n(32),u=n.n(a),c=n(0),f=n.n(c),l=n(2),p=n.n(l),h=n(3),v=n.n(h),d=n(1),y=n.n(d),g=n(11),m=n.n(g),b=n(4),w=n.n(b),O=n(7),x=n(6),C=n(40),T=n(61),E=n(166),I=1,S=function(t){function e(t,n,r,i,o,a,c,l){var p;if(f()(this,e),p=v()(this,y()(e).call(this,I)),Object(O.b)("streamId",t),Object(O.c)("streamPartition",n),Object(O.b)("requestId",r),Object(O.e)("publisherId",a,!0),Object(O.e)("msgChainId",c,!0),Object(O.e)("sessionToken",l,!0),p.streamId=t,p.streamPartition=n,p.requestId=r,p.fromMsgRef=s()(T.a,u()(i)),p.toMsgRef=s()(T.a,u()(o)),p.fromMsgRef.timestamp>p.toMsgRef.timestamp)throw new C.a("fromMsgRef.timestamp must be less than or equal to toMsgRef.timestamp");return p.publisherId=a,p.msgChainId=c,p.sessionToken=l,p}return w()(e,t),p()(e,[{key:"toArray",value:function(t){var n=m()(y()(e.prototype),"toArray",this).call(this);return n.push.apply(n,[this.streamId,this.streamPartition,this.requestId,JSON.parse(this.fromMsgRef.serialize(t)),JSON.parse(this.toMsgRef.serialize(t)),this.publisherId,this.msgChainId,this.sessionToken]),n}},{key:"serialize",value:function(t){return i()(this.toArray(t))}}]),e}(E.a);x.a.registerClass(I,E.a.TYPE,S)},function(t,e,n){"use strict";n.d(e,"a",function(){return M});var r=n(167),i=(n.n(r),n(389)),o=n.n(i),s=n(90),a=n.n(s),u=n(93),c=n.n(u),f=n(28),l=n.n(f),p=n(32),h=n.n(p),v=n(12),d=n.n(v),y=n(168),g=n.n(y),m=n(0),b=n.n(m),w=n(2),O=n.n(w),x=n(3),C=n.n(x),T=n(1),E=n.n(T),I=n(4),S=n.n(I),k=n(7),P=n(40),A=n(6),R="resend",j=0,M=function(t){function e(t,n,r,i,o,s){var a;if(b()(this,e),a=C()(this,E()(e).call(this,j,R)),Object(k.b)("streamId",t),Object(k.c)("streamPartition",n),Object(k.b)("requestId",r),Object(k.e)("apiKey",o,!0),Object(k.e)("sessionToken",s,!0),!i.resend_all&&!i.resend_last&&null==i.resend_from&&null==i.resend_from_time)throw new P.a("Invalid resend options!");return a.streamId=t,a.apiKey=o,a.sessionToken=s,a.streamPartition=n,a.requestId=r,a.resendOptions=i,a}return S()(e,t),O()(e,[{key:"toObject",value:function(){return g()({type:R,stream:this.streamId,authKey:this.apiKey,sessionToken:this.sessionToken,partition:this.streamPartition,sub:this.requestId},this.resendOptions)}},{key:"serialize",value:function(){return d()(this.toObject())}}],[{key:"deserialize",value:function(t,n){return l()(e,h()(this.getConstructorArgs(n)))}},{key:"getConstructorArgs",value:function(t){var e,n={};return c()(e=a()(t)).call(e,function(e){o()(e).call(e,"resend_")&&(n[e]=t[e])}),[t.stream,t.partition,t.sub,n,t.authKey,t.sessionToken]}}]),e}(A.a);M.TYPE=R,A.a.registerClass(j,R,M)},function(t,e,n){var r=n(25),i=n(106).f,o=n(76),s=n(99),a=n(101),u=n(384),c=n(159);t.exports=function(t,e){var n,f,l,p,h,v=t.target,d=t.global,y=t.stat;if(n=d?r:y?r[v]||a(v,{}):(r[v]||{}).prototype)for(f in e){if(p=e[f],l=t.noTargetGet?(h=i(n,f))&&h.value:n[f],!c(d?f:v+(y?".":"#")+f,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;u(p,l)}(t.sham||l&&l.sham)&&o(p,"sham",!0),s(n,f,p,t)}}},function(t,e,n){var r=n(45),i=n(385),o=n(106),s=n(55);t.exports=function(t,e){for(var n=i(e),a=s.f,u=o.f,c=0;c<n.length;c++){var f=n[c];r(t,f)||a(t,f,u(e,f))}}},function(t,e,n){var r=n(25),i=n(163),o=n(386),s=n(56),a=r.Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(104),i=/"/g;t.exports=function(t,e,n,o){var s=String(r(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),a+">"+s+"</"+e+">"}},function(t,e,n){var r=n(38);t.exports=function(t){return r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}},function(t,e,n){t.exports=n(390)},function(t,e,n){t.exports=n(391)},function(t,e,n){var r=n(392),i=String.prototype;t.exports=function(t){var e=t.startsWith;return"string"==typeof t||t===i||t instanceof String&&e===i.startsWith?r:e}},function(t,e,n){n(393);var r=n(29);t.exports=r("String").startsWith},function(t,e,n){"use strict";var r=n(5),i=n(31),o=n(394),s=n(396),a="".startsWith;r({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){var r=n(395),i=n(65);t.exports=function(t,e,n){if(r(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(i(t))}},function(t,e,n){var r=n(18),i=n(64),o=n(13)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(13)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){t.exports=n(398)},function(t,e,n){t.exports=n(149)},function(t,e,n){t.exports=n(400)},function(t,e,n){t.exports=n(401)},function(t,e,n){var r=n(402),i=Array.prototype;t.exports=function(t){var e=t.filter;return t===i||t instanceof Array&&e===i.filter?r:e}},function(t,e,n){n(403);var r=n(29);t.exports=r("Array").filter},function(t,e,n){"use strict";var r=n(5),i=n(91),o=n(74),s=i(2);r({target:"Array",proto:!0,forced:!o("filter")},{filter:function(t){return s(this,t,arguments[1])}})},function(t,e,n){t.exports=n(405)},function(t,e,n){t.exports=n(141)},function(t,e,n){t.exports=n(407)},function(t,e,n){t.exports=n(408)},function(t,e,n){n(129);var r=n(9);t.exports=r.Object.getOwnPropertySymbols},function(t,e,n){t.exports=n(410)},function(t,e,n){t.exports=n(140)},function(t,e,n){var r=n(115);t.exports=function(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(90),i=n.n(r),o=n(93),s=n.n(o),a=n(0),u=n.n(a),c=n(2),f=n.n(c),l=n(413),p=function(){function t(e,n,r,i,o,s){u()(this,t),this.streamId=e,this.streamPartition=n,this.inOrderHandler=r,this.gapHandler=i,this.propagationTimeout=o,this.resendTimeout=s,this.orderedChains={}}return f()(t,[{key:"add",value:function(t){this._getChain(t.getPublisherId(),t.getMsgChainId()).add(t)}},{key:"_getChain",value:function(t,e){var n=t+e;return this.orderedChains[n]||(this.orderedChains[n]=new l.a(t,e,this.inOrderHandler,this.gapHandler,this.propagationTimeout,this.resendTimeout)),this.orderedChains[n]}},{key:"markMessageExplicitly",value:function(t){this._getChain(t.getPublisherId(),t.getMsgChainId()).markMessageExplicitly(t)}},{key:"clearGaps",value:function(){var t,e=this;s()(t=i()(this.orderedChains)).call(t,function(t){e.orderedChains[t].clearGap()})}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return k});var r=n(414),i=n.n(r),o=n(417),s=n.n(o),a=n(0),u=n.n(a),c=n(2),f=n.n(c),l=n(3),p=n.n(l),h=n(1),v=n.n(h),d=n(4),y=n.n(d),g=n(419),m=n.n(g),b=n(423),w=n.n(b),O=n(425),x=n.n(O),C=n(185),T=n(61),E=m()("StreamrClient::OrderedMsgChain"),I=5e3,S=5e3,k=function(t){function e(t,n,r,i){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:S;return u()(this,e),(o=p()(this,v()(e).call(this))).publisherId=t,o.msgChainId=n,o.inOrderHandler=r,o.gapHandler=i,o.lastReceivedMsgRef=null,o.propagationTimeout=s,o.resendTimeout=a,o.queue=new w.a(function(t,e){return t.getMessageRef().compareTo(e.getMessageRef())}),o}return y()(e,t),f()(e,[{key:"add",value:function(t){var e=t.getMessageRef();this.lastReceivedMsgRef&&e.compareTo(this.lastReceivedMsgRef)<=0?E("Already received message: %o, lastReceivedMsgRef: %d. Ignoring message.",e,this.lastReceivedMsgRef):this._isNextMessage(t)?(this._process(t),this._checkQueue()):(this.firstGap||this.nextGaps||this._scheduleGap(),this.queue.push(t))}},{key:"markMessageExplicitly",value:function(t){t&&this._isNextMessage(t)&&(this.lastReceivedMsgRef=t.getMessageRef())}},{key:"clearGap",value:function(){clearInterval(this.nextGaps),this.nextGaps=void 0,clearTimeout(this.firstGap),this.firstGap=void 0}},{key:"_isNextMessage",value:function(t){return null===this.lastReceivedMsgRef||null!==t.prevMsgRef&&0===t.prevMsgRef.compareTo(this.lastReceivedMsgRef)||null===t.prevMsgRef&&t.getMessageRef().compareTo(this.lastReceivedMsgRef)>0}},{key:"_checkQueue",value:function(){for(;!this.queue.empty();){var t=this.queue.peek();if(!t||!this._isNextMessage(t))return;this.queue.pop(),this.clearGap(),this._process(t)}}},{key:"_process",value:function(t){this.lastReceivedMsgRef=t.getMessageRef(),this.inOrderHandler(t)}},{key:"_scheduleGap",value:function(){var t=this;this.gapRequestCount=0,this.firstGap=s()(function(){t._requestGapFill(),t.nextGaps=i()(function(){t.firstGap&&t._requestGapFill()},t.resendTimeout)},this.propagationTimeout)}},{key:"_requestGapFill",value:function(){var t=new T.a(this.lastReceivedMsgRef.timestamp,this.lastReceivedMsgRef.sequenceNumber+1),e=this.queue.peek().prevMsgRef;this.gapRequestCount<10?(this.gapRequestCount+=1,this.gapHandler(t,e,this.publisherId,this.msgChainId)):(this.emit("error",new C.a(t,e,this.publisherId,this.msgChainId,10)),this.clearGap(),this.lastReceivedMsgRef=null,this._checkQueue())}}]),e}(x.a);k.MAX_GAP_REQUESTS=10},function(t,e,n){t.exports=n(415)},function(t,e,n){n(186),t.exports=n(9).setInterval},function(t,e,n){var r=n(16).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){t.exports=n(418)},function(t,e,n){n(186),t.exports=n(9).setTimeout},function(t,e,n){"use strict";(function(r){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(i=++r)}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(421)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(e,n(420))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var t=a(p);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function d(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new v(t,e)),1!==c.length||f||a(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var n;function s(){if(s.enabled){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=s,a=Number(new Date),u=a-(n||a);o.diff=u,o.prev=n,o.curr=a,n=a,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;c++;var i=r.formatters[n];if("function"==typeof i){var s=e[c];t=i.call(o,s),e.splice(c,1),c--}return t}),r.formatArgs.call(o,e),(o.log||r.log).apply(o,e)}}return s.namespace=t,s.enabled=r.enabled(t),s.useColors=r.useColors(),s.color=e(t),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function o(t,e){return r(this.namespace+(void 0===e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;e<i;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var o=r.instances[e];o.enabled=r.enabled(o.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(422),Object.keys(t).forEach(function(e){r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function u(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var u=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(t);if("number"===c&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return u(t,e,o,"day");if(e>=i)return u(t,e,i,"hour");if(e>=r)return u(t,e,r,"minute");if(e>=n)return u(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){t.exports=n(424)},function(t,e,n){var r,i,o;(function(){var n,s,a,u,c,f,l,p,h,v,d,y,g,m,b;a=Math.floor,v=Math.min,s=function(t,e){return t<e?-1:t>e?1:0},h=function(t,e,n,r,i){var o;if(null==n&&(n=0),null==i&&(i=s),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);n<r;)i(e,t[o=a((n+r)/2)])<0?r=o:n=o+1;return[].splice.apply(t,[n,n-n].concat(e)),e},f=function(t,e,n){return null==n&&(n=s),t.push(e),m(t,0,t.length-1,n)},c=function(t,e){var n,r;return null==e&&(e=s),n=t.pop(),t.length?(r=t[0],t[0]=n,b(t,0,e)):r=n,r},p=function(t,e,n){var r;return null==n&&(n=s),r=t[0],t[0]=e,b(t,0,n),r},l=function(t,e,n){var r;return null==n&&(n=s),t.length&&n(t[0],e)<0&&(e=(r=[t[0],e])[0],t[0]=r[1],b(t,0,n)),e},u=function(t,e){var n,r,i,o,u,c;for(null==e&&(e=s),u=[],r=0,i=(o=function(){c=[];for(var e=0,n=a(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)c.push(e);return c}.apply(this).reverse()).length;r<i;r++)n=o[r],u.push(b(t,n,e));return u},g=function(t,e,n){var r;if(null==n&&(n=s),-1!==(r=t.indexOf(e)))return m(t,0,r,n),b(t,r,n)},d=function(t,e,n){var r,i,o,a,c;if(null==n&&(n=s),!(i=t.slice(0,e)).length)return i;for(u(i,n),o=0,a=(c=t.slice(e)).length;o<a;o++)r=c[o],l(i,r,n);return i.sort(n).reverse()},y=function(t,e,n){var r,i,o,a,f,l,p,d,y;if(null==n&&(n=s),10*e<=t.length){if(!(o=t.slice(0,e).sort(n)).length)return o;for(i=o[o.length-1],a=0,l=(p=t.slice(e)).length;a<l;a++)n(r=p[a],i)<0&&(h(o,r,0,null,n),o.pop(),i=o[o.length-1]);return o}for(u(t,n),y=[],f=0,d=v(e,t.length);0<=d?f<d:f>d;0<=d?++f:--f)y.push(c(t,n));return y},m=function(t,e,n,r){var i,o,a;for(null==r&&(r=s),i=t[n];n>e&&r(i,o=t[a=n-1>>1])<0;)t[n]=o,n=a;return t[n]=i},b=function(t,e,n){var r,i,o,a,u;for(null==n&&(n=s),i=t.length,u=e,o=t[e],r=2*e+1;r<i;)(a=r+1)<i&&!(n(t[r],t[a])<0)&&(r=a),t[e]=t[r],r=2*(e=r)+1;return t[e]=o,m(t,u,e,n)},n=function(){function t(t){this.cmp=null!=t?t:s,this.nodes=[]}return t.push=f,t.pop=c,t.replace=p,t.pushpop=l,t.heapify=u,t.updateItem=g,t.nlargest=d,t.nsmallest=y,t.prototype.push=function(t){return f(this.nodes,t,this.cmp)},t.prototype.pop=function(){return c(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return p(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return l(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return u(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return g(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),function(n,s){i=[],void 0!==(o="function"==typeof(r=s)?r.apply(e,i):r)&&(t.exports=o)}(0,function(){return n})}).call(this)},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function s(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,r||t,o),a=i?i+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},u.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,r,o,s){var a=i?i+t:t;if(!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,o),!0;case 6:return f.fn.call(f.context,e,n,r,o,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var p,h=f.length;for(c=0;c<h;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,n);break;case 4:f[c].fn.call(f[c].context,e,n,r);break;default:if(!u)for(p=1,u=new Array(l-1);p<l;p++)u[p-1]=arguments[p];f[c].fn.apply(f[c].context,u)}}return!0},u.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,c=[],f=s.length;u<f;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&a(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,t.exports=u}])});